/*
* ImagiNet Compiler 5.1.1920+23251253412258875242be5d4844a74c53d9fafa
* Copyright Â© 2023- Imagimob AB, All Rights Reserved.
* 
* Generated at 10/02/2024 05:18:57 UTC. Any changes will be lost.
* 
* Model ID  979cc9a1-a44b-4b81-bbaa-b93f11cd2947
* 
* Memory    Size                      Efficiency
* Buffers   360 bytes (RAM)           100 %
* State     16888 bytes (RAM)         100 %
* Readonly  12632 bytes (Flash)       100 %
* 
* Exported functions:
* 
*  @description: Try read data from model.
*  @param data_out Output features. Output float[2].
*  @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_NODATA (-1), IPWIN_RET_ERROR (-2), IPWIN_RET_STREAMEND (-3)
*  int IMAI_dequeue(float *data_out);
* 
*  @description: Try write data to model.
*  @param data_in Input features. Input float[6].
*  @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_NODATA (-1), IPWIN_RET_ERROR (-2), IPWIN_RET_STREAMEND (-3)
*  int IMAI_enqueue(const float *data_in);
* 
*  @description: Closes and flushes streams, free any heap allocated memory.
*  void IMAI_finalize(void);
* 
*  @description: Initializes buffers to initial state.
*  @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_NODATA (-1), IPWIN_RET_ERROR (-2), IPWIN_RET_STREAMEND (-3)
*  int IMAI_init(void);
* 
* 
* Disclaimer:
*   The generated code relies on the optimizations done by the C compiler.
*   For example many for-loops of length 1 must be removed by the optimizer.
*   This can only be done if the functions are inlined and simplified.
*   Check disassembly if unsure.
*   tl;dr Compile using gcc with -O3 or -Ofast
*/

#include <stdint.h>
#include <string.h>
#include "mtb_ml_model.h"

#include "cap_model.h"

#ifdef __GNUC__
#define ALIGNED(x) __attribute__((aligned(x)))
#else
#define ALIGNED(x) __declspec(align(x))
#endif
// Working memory
static ALIGNED(16) int8_t _buffer[360];
static ALIGNED(16) int8_t _state[16888];

// Parameters
static const uint32_t _K4[] = {
    0x0000001c, 0x334c4654, 0x00200014, 0x0018001c, 0x00100014, 0x0000000c, 0x00040008, 0x00000014, 
    0x0000001c, 0x0000009c, 0x000000f4, 0x000016e4, 0x000016f4, 0x00003094, 0x00000003, 0x00000001, 
    0x00000010, 0x000a0000, 0x000c0010, 0x00040008, 0x0000000a, 0x0000000c, 0x0000001c, 0x00000048, 
    0x0000000f, 0x76726573, 0x5f676e69, 0x61666564, 0x00746c75, 0x00000001, 0x00000004, 0xffffff8c, 
    0x00000016, 0x00000004, 0x00000017, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 
    0x00322d64, 0x00000001, 0x00000004, 0xffffe906, 0x00000004, 0x00000007, 0x75706e69, 0x00325f74, 
    0x00000002, 0x00000034, 0x00000004, 0xffffffdc, 0x00000019, 0x00000004, 0x00000013, 0x564e4f43, 
    0x49535245, 0x4d5f4e4f, 0x44415445, 0x00415441, 0x000c0008, 0x00040008, 0x00000008, 0x00000018, 
    0x00000004, 0x00000013, 0x5f6e696d, 0x746e7572, 0x5f656d69, 0x73726576, 0x006e6f69, 0x0000001a, 
    0x000015ec, 0x000015e4, 0x000015c4, 0x000015a4, 0x00001588, 0x00001574, 0x0000155c, 0x0000150c, 
    0x0000147c, 0x0000086c, 0x000007dc, 0x000001cc, 0x0000017c, 0x000000dc, 0x000000d4, 0x000000cc, 
    0x000000c4, 0x000000bc, 0x000000b4, 0x000000ac, 0x000000a4, 0x0000009c, 0x00000094, 0x0000008c, 
    0x0000006c, 0x00000004, 0xffffe9e2, 0x00000004, 0x00000058, 0x0000000c, 0x000e0008, 0x00040008, 
    0x00000008, 0x00000010, 0x00000028, 0x00060000, 0x00040008, 0x00000006, 0x00000004, 0x00000001, 
    0x000003eb, 0x000a0000, 0x000c0010, 0x00040008, 0x0000000a, 0x00000002, 0x00000002, 0x00000004, 
    0x00000006, 0x34312e32, 0x0000312e, 0xffffea46, 0x00000004, 0x00000010, 0x34312e31, 0x0000302e, 
    0x00000000, 0x00000000, 0xffffd220, 0xffffd224, 0xffffd228, 0xffffd22c, 0xffffd230, 0xffffd234, 
    0xffffd238, 0xffffd23c, 0xffffd240, 0xffffd244, 0xffffea8a, 0x00000004, 0x00000090, 0xeefa81e0, 
    0xda2430ad, 0xbb25c348, 0x308100f3, 0xfb2dce01, 0x1f7f4042, 0xe0d56433, 0x1a3d1903, 0x0b7f3015, 
    0x060ca60a, 0xf9113c81, 0x7fc55210, 0xfe48b123, 0x7fa81501, 0x60901ca6, 0xf0dab8b0, 0x7fd3ec43, 
    0xbbe3abff, 0x093c2b2b, 0x47e60f81, 0xef01e6b3, 0xf1c87fb6, 0x3fd332f1, 0x4f8121c7, 0xdaf0ecec, 
    0x93f2815e, 0xfe342ed0, 0x43257f0c, 0xf31863aa, 0x3b1f1713, 0x024a8154, 0x1e3514fa, 0x7f894c4a, 
    0x19fddd09, 0x810a2c30, 0xe20bec2a, 0xffffeb26, 0x00000004, 0x00000040, 0x0000c8f6, 0x000001de, 
    0xfffef126, 0xffff6730, 0x0000940c, 0x000002c9, 0x000099c5, 0xffffdeef, 0xfffffcfd, 0xfffffdfc, 
    0x00005575, 0xfffff87d, 0xffff914e, 0xffffe6dc, 0xffffe30f, 0x00002874, 0xffffeb72, 0x00000004, 
    0x00000600, 0xf405f9ef, 0x1b0a0915, 0x07f48101, 0xf06544e4, 0x150fee14, 0xfeeaec0e, 0x0bdce6f5, 
    0xf500f5e6, 0xfe1133ff, 0xf0ee0ede, 0x0df9bbf9, 0x140b1519, 0x3b4bc9fc, 0x012f200d, 0xba287f31, 
    0x4cbabe2a, 0xe30422eb, 0xd3d002f5, 0xc8e1f1f7, 0xf0e7f505, 0xf90964e3, 0xfae1ffe5, 0x04d4e9aa, 
    0xe51310fe, 0xd7dfeaec, 0xf9ea0528, 0xfede8108, 0xd1321305, 0x1b09ef3b, 0x030eab0b, 0x0a01fd01, 
    0xedfbf302, 0x10180cf5, 0x020029da, 0x0a00103f, 0x08171cf0, 0x6a66819a, 0xe617d0b2, 0xd7148341, 
    0x2a8ba6f6, 0xf0cf0701, 0x1526b6e5, 0x1f073503, 0xc8e50781, 0xe309d635, 0x0f073a69, 0x073a05d1, 
    0x0bfff953, 0xd0dc7f18, 0x11f10d27, 0x6ee602d7, 0xed6a4ceb, 0x31329bf2, 0x00eae9f8, 0xe906c404, 
    0x0fe5ea1e, 0x0523d7f4, 0x1604f3fa, 0xcf051146, 0xedfafac2, 0xbfc53044, 0x13f6234f, 0xfae7b8e2, 
    0xe07f5ffa, 0x0923f9e4, 0xe8f80e0a, 0xfa03e418, 0x110c041d, 0x02ef15e3, 0x05ffd6c2, 0x1dfb1307, 
    0xeff802d5, 0x2606b22b, 0x0626e7f5, 0xcbfa10f9, 0xfdcab038, 0xf807ede0, 0xe6d32ff0, 0xc909e72e, 
    0xe20b3810, 0x24c6332c, 0x2838c60e, 0x301d7ffd, 0xfa735aac, 0xe8f1b70a, 0xf10c2b2e, 0x8103b425, 
    0x1ce8e827, 0xd9fc43ec, 0xf8fe233d, 0x01fb27d8, 0xf022000d, 0x060353db, 0xd3c8d3d6, 0x41bdb5c2, 
    0xd9d1f414, 0xa0aaf4c5, 0x09e5e3fd, 0x05e98123, 0xb8fafdb3, 0x21fa38e4, 0x27f9aa0b, 0x53e7eee9, 
    0xebf808bd, 0xfb081507, 0x170507db, 0x32e393dc, 0x21fa05f5, 0xfee03618, 0x14271225, 0x271e7ff0, 
    0xf1304108, 0x3327eaf7, 0xeaf1f709, 0x0613fc01, 0x052317f3, 0x1623cbd4, 0x0e12f3e6, 0xcdfaed2c, 
    0x04e2f2ab, 0x15097c41, 0x28e7fd16, 0x76f47fd2, 0xba1d0ff2, 0xfd398ffd, 0xe1e629e0, 0xeaffb62d, 
    0x360e004f, 0x0c0e0eec, 0x0d10ebb6, 0xf0fbd62d, 0xe81e15ce, 0x120bf631, 0xf71710f3, 0xfe167fe9, 
    0x1303f32a, 0xe3eee30b, 0xfe053bea, 0xd011130d, 0x11fdfb21, 0xe003dde8, 0x031f150f, 0xbb204106, 
    0x061c01ef, 0xb6c2ff07, 0xf7f1f9e2, 0x04dfd8bd, 0xde7f3fd1, 0x08f52036, 0x28f5fdf1, 0x19f40f0a, 
    0x1824f51a, 0xeffaebca, 0xf9d83dc1, 0xd8f7ee67, 0x35c8b234, 0x3b2bf420, 0xe10c00e3, 0xfe0c7ff9, 
    0x069e9638, 0xd6d31107, 0xe8ea39f1, 0xddf0fef4, 0x1505041c, 0xf7eb40e2, 0xfd0c0204, 0x042830fb, 
    0xea152121, 0xe6f84205, 0xdbd0e0ed, 0x1f0627fb, 0x2ad614f8, 0xe7dddbf2, 0x180230f7, 0x3833b6d1, 
    0x30e2e530, 0x0edb81ff, 0x06070d45, 0x251238fc, 0xe9efceeb, 0xe1eadefd, 0xf8fa160e, 0xe6ef81f1, 
    0xeb0afb0a, 0x0c0dfaf2, 0xefffea17, 0x10fe162a, 0xeff4f90c, 0x0a021504, 0x0a11ec09, 0x23fa301d, 
    0xf70717ea, 0xdad40bcb, 0xe602bde5, 0x11ea81f8, 0xc5100ed1, 0xf7f7fc20, 0x2a30f323, 0x2218190a, 
    0xe0f1ecf8, 0x05f6f51e, 0xee072e2e, 0x0c25e449, 0x19fb013c, 0x81b02a0b, 0xf7c5ea18, 0x1dd587d4, 
    0xca5114d2, 0x11fd1e17, 0x3f10f10f, 0x3819f20a, 0x10201e20, 0x0812f911, 0x0a171ef6, 0x2a14fd2e, 
    0x0ee8f123, 0x81a0d204, 0xeed2d5e3, 0xd8037a32, 0x00b7a6fb, 0xfc1cf3be, 0xd10bce1a, 0xde302533, 
    0x1bbbd21f, 0xd0e2b2e0, 0x6052edc5, 0xec1072ae, 0xf6dbfc8d, 0xfefe0029, 0x16162b13, 0xdf0e7fd7, 
    0xfcdbfb18, 0x0b020ae8, 0xf7eb03f9, 0x0c0af123, 0x2b3a2b1f, 0x04ecf305, 0xff13d8f7, 0x23fb30ef, 
    0xe1dee9c4, 0x334ac914, 0xdef904dc, 0xfe1c48c6, 0xd3819e33, 0xefe32efd, 0xebedf80a, 0x1fff1537, 
    0x082d332e, 0xe6effc18, 0xf600f035, 0x08031d19, 0xe7f3f7d9, 0x7f7e11eb, 0x00f3bbb6, 0x3b131220, 
    0xcb8bcee7, 0xdc00cd08, 0x1c0dcec2, 0xe41bf906, 0xee0ceed4, 0xe2f71146, 0xfe211f72, 0xe35b2f11, 
    0x20654514, 0x2d1181f0, 0xe6030ad6, 0xd110e510, 0x0bbfb120, 0xe4da4007, 0xf0030d20, 0x1b0d28fc, 
    0xd8f4faf5, 0xfee62f05, 0xece5f724, 0x0cfaf4f2, 0x0005051d, 0x81cf1ad5, 0xe2cbbfe1, 0xf1f3c915, 
    0x0a455bb2, 0x39fe0b56, 0x5246e925, 0x141713d2, 0x0affdbf8, 0x13f4c5ee, 0x130d43fb, 0x26ddf205, 
    0x29f6cf25, 0x2f4edb2a, 0xf1113d08, 0x810f54d8, 0xf3abca04, 0xbbfd49c4, 0xea0403e2, 0xd1e5e836, 
    0x22602600, 0xf4c44d1f, 0x14e8cc07, 0x2fe80291, 0xebd50825, 0xf60ae8e8, 0x00091510, 0xcb168120, 
    0x10fb06ff, 0x11fa15f8, 0x09f9dd11, 0x0dfc030b, 0xf0ff17e6, 0xf1f4190e, 0x0802fef3, 0x2af6efd4, 
    0xeef80d01, 0x153bea10, 0x1408f11d, 0xf60a81da, 0xab2d30de, 0xf203fb04, 0x1005c7dd, 0xfa05f81c, 
    0x0c0df2e5, 0xe2eb2b06, 0x0e092323, 0x041c1633, 0x06feea29, 0x9bab1ae4, 0x0dc30005, 0x1dd48119, 
    0xd42108d3, 0x281a0ff6, 0xebeecd06, 0x13f0d10c, 0x11e8f11a, 0xfbf80424, 0xf10808e7, 0x10e8c108, 
    0x2df81307, 0x7c7fdff7, 0xfa0bfaf7, 0x18faef19, 0xe7a5b719, 0x0516081e, 0xfc02f5f0, 0xf2d9ee1f, 
    0xde1c22ea, 0x16212712, 0xfb0d06f1, 0x1614d8fd, 0x013a27f9, 0x353691e7, 0x0dff162a, 0x9d198c2e, 
    0x34d4e515, 0xfaee10ea, 0xd8d1e903, 0xebd00a09, 0xf3e5ebf2, 0x02eb7ff6, 0xf6edd216, 0x2ef808b4, 
    0xd0010eed, 0x2114f819, 0xfc0ffcf9, 0xf5057fe4, 0xf5deda13, 0xf3ef1404, 0xeffe1afa, 0x22020412, 
    0xfd09150d, 0x01f0ee04, 0xf3fbde09, 0xed0a0522, 0xfbfcf7f3, 0xcbc27f48, 0x0efe0e0c, 0x38df5fa4, 
    0xc83629f0, 0x061cdaec, 0xf2080fce, 0xf412cfe7, 0x4b340439, 0xfceee0e8, 0x1d0ffd10, 0xce0b3e59, 
    0x07e2daf5, 0xfffff17e, 0x00000004, 0x00000080, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xfffff20a, 0x00000004, 0x00000c00, 0xf208edec, 
    0xc84021ed, 0x4a0404d4, 0xfa2920f5, 0x16f607ec, 0x0ebe30fd, 0xe17fe820, 0x5212e2eb, 0x4023eee6, 
    0x33cec6a6, 0xff8dcbe9, 0xf928df27, 0x03f42047, 0x464cea07, 0xf901fa16, 0xef0102ca, 0x9e2f2423, 
    0x304334e5, 0x0e04ffe0, 0x3dc80cf4, 0x03fbf5d8, 0xe613d7e4, 0x1cb6feff, 0xcff3300b, 0x7fef0206, 
    0x05ffc6ce, 0xe1ebe814, 0x04eb07f7, 0xefedf01b, 0xe9303b30, 0xfc191118, 0xd415203f, 0xf4ed0e16, 
    0x0b1509f9, 0xda09d80f, 0x04fbfb00, 0xf5f5111d, 0xfa11f302, 0x1cfe0403, 0xeff6200a, 0xe4420840, 
    0x0cbf030c, 0xeb190504, 0x00e91137, 0xf7c61a26, 0x03f5ddec, 0x1b3afc02, 0x1a10fdfc, 0x07f6f2ee, 
    0xfb290608, 0x07f710fe, 0xf80dfa18, 0x0f34fdeb, 0xec0b0618, 0x02ffe20b, 0x1813f6f4, 0x2c03eb27, 
    0x06de00f8, 0xedd8160e, 0x03e4d725, 0x001e0812, 0x0e0cf1f3, 0x0d030100, 0xf90a05e2, 0x051f13cd, 
    0xda270810, 0x0c0823fd, 0x252611d7, 0x1d7fecd7, 0xf3e918eb, 0x03e20ae8, 0xf6e622eb, 0x8119d810, 
    0x12f36e28, 0xbf26195a, 0x1cf5dc29, 0x193c431d, 0xf2d8c0d5, 0x4af9260c, 0x22f9e5b7, 0xf70fefef, 
    0xd0ff0017, 0x050de4fc, 0xf7132209, 0x1c0c1f1c, 0x0ff11100, 0x0dfe0902, 0x2a01f9e4, 0x12ccd3d1, 
    0xcd0b0209, 0x30e708d6, 0x072320f2, 0x1a13f710, 0xf7e42506, 0xe5f0ed08, 0x3106bed5, 0x6a082be5, 
    0x2e2abf97, 0x2181d7db, 0x36f428ec, 0x19fbd1f1, 0xea7b0623, 0xdc011720, 0xb10669f9, 0xc80cf80b, 
    0x10093719, 0xe81b2e0c, 0x1508f3e8, 0x1b09fff3, 0xf9dbd9e9, 0x04d501f9, 0xfb0426f4, 0x0f23f91e, 
    0x00fc0afb, 0xd802ec2c, 0xf8f8f6fd, 0xf3d70d13, 0x10fe09ef, 0x1e3d15f4, 0xf1f10321, 0x74d914fe, 
    0x05e4d820, 0x81ed4b5a, 0x1aded0e9, 0xfec21307, 0xd7d63404, 0xff102f1b, 0xd11e247b, 0x0eee0b36, 
    0xeb0c3021, 0xa811e54f, 0x15f1d6e9, 0xe4f41104, 0xe2eb36e0, 0x3c362c18, 0xdbdd420d, 0x2f02ed38, 
    0x1d84d6fa, 0xf1d3cb1e, 0xd004103d, 0xdbcc2b7d, 0x3c2f182f, 0x2f18ebe6, 0x2728f6e4, 0x7ff530e8, 
    0x192dac99, 0x0bc2d903, 0x1b121bda, 0x06ffdff5, 0xe355183c, 0xeaec1510, 0xb3125117, 0xd616fc07, 
    0x011a1b07, 0xf81a0b0e, 0x110308fd, 0xfa100b02, 0xfbed0fdf, 0x24e0fde9, 0x09f107fb, 0xd7f4f311, 
    0x12d919ef, 0xe61fe910, 0xe5f40527, 0x19ca23f9, 0x1400ee16, 0x071e0b22, 0x240ff904, 0x811cd310, 
    0x02f86719, 0xca24fd51, 0x39e8db3d, 0x2224491e, 0x1bf9c50d, 0x500f290a, 0x2104d8c6, 0xd707d0e3, 
    0xd10e2cf7, 0x061cdd13, 0x1dff391b, 0x0f013a2a, 0xfef70f18, 0x0d3afc0b, 0x420aeef0, 0x0adab5c4, 
    0xd62e13ed, 0x16d5d7da, 0x21203808, 0x151f312f, 0x35f82b18, 0xee3103fa, 0x420ae2a8, 0x0629c0e8, 
    0x00ee110a, 0xc7ec2d5b, 0x11268144, 0xf0681540, 0x45dddfd8, 0x50d911c9, 0x0602c881, 0xfae1fa04, 
    0xab0ff46e, 0x0a4813e3, 0xee2febe1, 0xe60efa1e, 0xe8d3fbdd, 0x08b4d0c5, 0xfb03d0f9, 0x5520fce2, 
    0xcd1b98ed, 0x74e1fd88, 0x151627f0, 0x2002cef0, 0xda39214c, 0xb703aefe, 0x080ce937, 0x44d0ead7, 
    0x2506d088, 0xfd9ae2f8, 0xe8f03618, 0x22c917e8, 0x152fccea, 0x01ae2d0c, 0xe8ede6dc, 0xb60eea2d, 
    0x3a8e3c14, 0xe05ab802, 0x0f0ae04b, 0xe9d82d5f, 0x041befdd, 0x483001f0, 0x16f914eb, 0x3a0727ea, 
    0xdff2f7f0, 0xead6d5dc, 0x5d035bd3, 0x4c172d0e, 0xe02b087f, 0x15221c1a, 0xea436622, 0xdde409d2, 
    0x09172c0d, 0x153318e4, 0x0e3329e9, 0x7f17e29d, 0xeaf8db34, 0xcae7240b, 0x2d111dde, 0x461aba07, 
    0x09b6c709, 0xe0a4031a, 0xf63ecd2d, 0xd6f92e60, 0x4416ccdc, 0x2ec213b1, 0xedf6a3b4, 0x0f11ccf7, 
    0xe2f1e03f, 0xf732dede, 0x065215e6, 0xf2df3143, 0x09000115, 0xfb04e8cb, 0x3a1204f7, 0xd3e9290b, 
    0x53d40cee, 0xfb1e0904, 0xd0ccfcea, 0xe0eed19d, 0xb803e7f6, 0xe3ba0a21, 0xe31a2e20, 0xf928c70d, 
    0xae141443, 0x0bf5241b, 0x3a32cc31, 0xfd510a04, 0x27c714da, 0x2839f7d4, 0x4df9d8d2, 0x7fd4e9b9, 
    0xc421b9cb, 0xfcc59ef1, 0x1e382fcd, 0x0f3dff1b, 0x0ffe542c, 0xee170dff, 0xf9fd1cf3, 0x4afb13fb, 
    0x1af4ddf4, 0x85f42442, 0x39f6d3c4, 0x1cd70a0b, 0xeb002e27, 0x03043008, 0xd0141a53, 0x1e0c0519, 
    0xd9f306ff, 0xd9e9fe25, 0x070ef5e3, 0xef0f0a11, 0xefe130df, 0x2e461c05, 0xe4f71f12, 0xf6cbf6ec, 
    0x1e81f302, 0xfc0bd513, 0xb20d1043, 0xdbcf0d66, 0x2a11dffb, 0x04ece5f8, 0x1d1ae7b6, 0xedda12e7, 
    0xf33115d3, 0x13f4dd0d, 0xf91f16cd, 0x4a77eb9b, 0xf5f1fc19, 0xf6d90f24, 0x0e0730de, 0x6ddfcdfc, 
    0x1781cee8, 0xefb5ef30, 0xb511c529, 0xe3fa1b32, 0x4403def0, 0xf0ca0aed, 0xece6d7aa, 0xf7cceef6, 
    0x06f8e522, 0x010ce6f2, 0xd42cfff6, 0xdef9002e, 0x05121603, 0x0604e5fb, 0x3208e6cf, 0xd7d1eb11, 
    0xd3163824, 0x0243070c, 0xe9f4dc0d, 0xf812fdf5, 0xf7c217ee, 0x2c14fb23, 0x3702f0d6, 0x5d34eeed, 
    0xf30fcfd3, 0xe7b0b113, 0x2719f226, 0xf73e1c3d, 0x300d1f12, 0x29320603, 0xfefa08eb, 0xc1ee22d2, 
    0x3d2c2ac3, 0x05e22503, 0x15090ae4, 0x474c01be, 0xfd1aaf21, 0xf4812f0d, 0xbf162afd, 0x2dfb27f8, 
    0x181af5cc, 0x26b4ffe2, 0x29032af7, 0x27fbdaf3, 0xe133d515, 0xc610ec23, 0xd3203bf2, 0x811c06f0, 
    0x30105215, 0xf50c2def, 0x380de7f9, 0x281df7ca, 0xfb08bbf3, 0x09e708ed, 0x061122de, 0x10e2f221, 
    0xdae60931, 0xc6301b3e, 0xf1f2e7e6, 0xf209110e, 0x14de1cfd, 0x26002ff5, 0xf9f9f322, 0x0d2b0a0b, 
    0x150ce9dc, 0x2cb3d4d3, 0x1f021d3b, 0xbb08fc1e, 0x1923eadd, 0xfd1ee7ee, 0x0dec01c8, 0x81df13da, 
    0x51104d0c, 0x0f1905dc, 0x22171fe9, 0x580f02b4, 0xf001c031, 0xe2d1fb17, 0x1d2218e7, 0x1f25e00a, 
    0xd0b9ea43, 0xcf1e4231, 0xe20ca4ff, 0xda29031a, 0x09d512ea, 0x34d221b6, 0xdce5fb25, 0x35f002fe, 
    0x0007f0fb, 0x9f0e3040, 0x28d6cbea, 0x16f5f9fe, 0xf5f12d23, 0x0d2c341c, 0xdd161965, 0x2316130e, 
    0xe5180517, 0xd6fc011f, 0xfbe7dff9, 0xf1fefb0a, 0x0bd71be7, 0x0a55170a, 0xfcf30510, 0x02c4dcf9, 
    0x2d81fef0, 0xed0cf4fa, 0xae03063b, 0xf3d01f55, 0x2101e9f6, 0xf70bfbff, 0x1b04dbd2, 0xd036f001, 
    0xf003372a, 0x0c3c210c, 0x3211fb13, 0x2c4407f1, 0xfee6e50f, 0xff1206fb, 0x37f804b4, 0x731df70e, 
    0x1af9f2d3, 0xfab0d013, 0x03e1f90b, 0xd60c0125, 0x0715f3e1, 0xf4022dff, 0xc6f723e4, 0x49e2e9e4, 
    0x18f7dabc, 0xf4ca810d, 0x0b0d0d04, 0xc82c0339, 0x1f3418f6, 0x1a271109, 0xdde8fbd7, 0x7fd80de6, 
    0x0522bbb4, 0xfab4d103, 0x120602eb, 0x0305e3f9, 0xe6462318, 0xe2f8171b, 0xc7103101, 0xdd20f90e, 
    0xf5171f0c, 0xf90a101a, 0x0fe7fdf8, 0xe60d0500, 0x1fe40de2, 0x0bfd0de9, 0xf9dff604, 0xcbe8f716, 
    0x30e329f7, 0xef1ff50b, 0xdaf7f606, 0x22e52402, 0x08e8ec09, 0xfd18102f, 0x20f9ff02, 0xe202bc02, 
    0xdced1640, 0x18391dee, 0xe12ceb09, 0xf7b33434, 0x14c117e2, 0x0b0ce4ea, 0x4def81f2, 0x0e28e70b, 
    0x16f2f1fd, 0xffec07d8, 0x32150a18, 0x12aff534, 0xed40fb3e, 0xfc0be8e0, 0xf11cf50d, 0x00471e3d, 
    0xe1032423, 0x091c1dea, 0x4da1f400, 0xecc1f601, 0xdf02efed, 0x0b2701d9, 0xd8ef0f2f, 0x7f010f06, 
    0xf502a6b0, 0x0f96bd06, 0xe2051d0e, 0xbbfcf437, 0x0a4348f6, 0xec22fafe, 0xf7f616fb, 0xc6e40800, 
    0x24255e1d, 0xf1042a1d, 0x01f6e8e9, 0x11fe0ef3, 0xf506ec14, 0xecfc1f09, 0x14111de6, 0xec48ff53, 
    0x23e23034, 0xd815fe21, 0xf6c8da07, 0xe5ba202d, 0x03d7f5e0, 0x0b3f2d10, 0x00d60a14, 0x1717f506, 
    0x1601fbf7, 0xe4e0d11f, 0x2bf2eff8, 0xee1c1314, 0x061cedfe, 0x1af107f9, 0xf4f604fc, 0x04ecfdfd, 
    0xde09f417, 0x0f07fcf8, 0xed0810e8, 0xef01fd10, 0x08e910fa, 0xfcfdf8f2, 0x0d02e119, 0xeef3d1f3, 
    0xd60a0c05, 0x322a31e6, 0xd2240822, 0x0c020e0e, 0x11cf0df1, 0xe004d307, 0x4a0481f0, 0xe3ea9317, 
    0xd0faff65, 0x2361f9dc, 0xf82aed10, 0xfbb13d50, 0x2bb21cc5, 0x071ddae0, 0x60f781df, 0x0235f0fe, 
    0x0feedbf7, 0x07041dc2, 0x3b0bf114, 0x13ac0e31, 0x014efb4d, 0xf019ece1, 0x0d26f921, 0xe755105a, 
    0xf1022c37, 0x053c38ee, 0x6fa3f806, 0xcea7080f, 0xe6070bed, 0x13280ed1, 0xd6fb2e52, 0x7fe53bde, 
    0x360ece9c, 0x2097cddc, 0x1aff1ff0, 0x0afdc0d9, 0xea73f92d, 0xcf140833, 0xb7176d06, 0xda12100c, 
    0x342e4a22, 0x01ec03f9, 0x36fbdcf2, 0x172b0de8, 0x04f8d0cc, 0x06b837f7, 0xd8e83aeb, 0x0c1c023b, 
    0xe5070d0a, 0xd202f742, 0xfdf105e4, 0xe8de3105, 0xfff611fc, 0xfe332cfd, 0xf5e70b22, 0xdb22ccec, 
    0x1bec23fb, 0xc5df1860, 0x580a981e, 0x294e3e45, 0x1216a501, 0x4fde1c06, 0xfcebfb81, 0x0ef3d9fe, 
    0xb001fe6c, 0x201413f8, 0xf94df9e1, 0xe1ecef0b, 0x11c31fe0, 0xfff5e4a7, 0x06edd1f2, 0x0517b6be, 
    0xb906de18, 0x74e357bd, 0x054dd809, 0x1d19dc06, 0x37051610, 0xb407c8d1, 0x460d97d7, 0xc1e313cc, 
    0x2d3b1581, 0x3291e4ed, 0x09f62232, 0x4b1a09d5, 0x0218a800, 0x0cccea56, 0x1a09f6c1, 0xa1d8fb06, 
    0x0edc3e4f, 0x153bfdb0, 0xf32e03e3, 0x0ff61101, 0xfa9efed2, 0xf8fdd21b, 0x5ae3e7cc, 0x0f1a4cf6, 
    0x27360bd3, 0x15a50dd9, 0x1e0507c8, 0x0d00dff4, 0xf63fe41e, 0xdec609fb, 0xd101371d, 0x81cd3721, 
    0x11e51f3a, 0x044a14ee, 0x870022dd, 0x18daed81, 0xeae605e9, 0xf8ecfe28, 0x39f5011c, 0x3827c3cd, 
    0xa3fae837, 0x129e5b38, 0x0a25ac19, 0xec2d0910, 0x40c601ea, 0x120801bf, 0x3ee7b1c3, 0x10b4c9ef, 
    0x04f5e01c, 0x083ff509, 0xe7260701, 0xddf5e457, 0xf7f42dfd, 0xe908dcf0, 0x100dea03, 0x0f21adff, 
    0xc92b1ffb, 0x32d104f3, 0x1c36170d, 0x20ea1f2e, 0x27c026f9, 0x027fdafa, 0x7406c8c8, 0x24e9fdd7, 
    0x22f8d0c8, 0x1bccd5d8, 0xf50f1df6, 0xe6d8ff4b, 0x193d242f, 0xd518ef01, 0xe81bed0e, 0xb2612f21, 
    0x691b3302, 0x01f32402, 0x46bbf50e, 0x1ef30ff8, 0xf01a9f05, 0xf1e124ec, 0xc70739f7, 0x1d13fefc, 
    0xece2e318, 0xf01d2300, 0x03fceffe, 0x0ef2f3f4, 0xf7182639, 0xe92316f2, 0xdc14215e, 0xf5250e2d, 
    0xfb1c341c, 0x0423231a, 0x4db7f3f6, 0x0854f6dc, 0xfbf9eed0, 0x001f2502, 0xdbe23a11, 0x7fd3ede0, 
    0x05f2e3d7, 0xec9ff719, 0xe41be200, 0x0819fd14, 0x0ffe04fb, 0xf3152115, 0xeb15fee5, 0xfd04e83e, 
    0x1debfdc5, 0x09f2dfee, 0xd7090520, 0xf2b30c27, 0x2f1fcffc, 0xec16e9f8, 0x0ff9d0fc, 0xd738b3d9, 
    0xb0572f29, 0x2a2ceacc, 0x5f4b33f7, 0x1d23281a, 0xf8d62b3a, 0x024ce608, 0x5ee2eafe, 0x1bf820f4, 
    0x481ee881, 0x089edbe5, 0x0ecdffdc, 0xf6effa19, 0x166eef18, 0xa2f320fb, 0x9d19052b, 0xcd962cd9, 
    0x15062dad, 0x381df7d1, 0xb0157afa, 0x65f9ea81, 0xecf407fb, 0xd9f30d5c, 0x2b091b07, 0xf0f5d60e, 
    0x07c1f71c, 0x0cc1e8fb, 0xe32ad225, 0xb5d03b42, 0x4700ceb6, 0x15b0f9de, 0x0cdbb69d, 0xdcfedc0a, 
    0xe3e80d63, 0x1b2816a8, 0x0a1c12ef, 0xe2cb1a1a, 0xd6ef0821, 0xf00ce2cf, 0x3116dfdb, 0xfffffe16, 
    0x00000004, 0x00000080, 0x00002a14, 0xfffff216, 0x00002e4a, 0x00001313, 0xfffffa9c, 0x000017d4, 
    0xfffffaa1, 0x00000e72, 0x000011d6, 0xffffec13, 0x00000dd7, 0x00000ef6, 0x000019dd, 0x00004aae, 
    0x00004044, 0xfffffe01, 0x00000a5d, 0x0000004b, 0x000048d3, 0x000002a4, 0xffffc1f8, 0xfffffd25, 
    0xfffff49f, 0xffffa6a1, 0x000007b6, 0x000026c7, 0x00002926, 0xffffeb95, 0x00001b94, 0x00000067, 
    0x00000489, 0xfffff8f9, 0xfffffea2, 0x00000004, 0x00000040, 0x66be13dc, 0x55392657, 0xe1b9195f, 
    0x5babbf48, 0x5abc2d48, 0xd8424bb8, 0x9de55753, 0xc3c9afc3, 0xda1ebe19, 0x81c4d5ba, 0x492b24b5, 
    0xe1305ed3, 0xd244d0ab, 0x25acde18, 0x2538b9cb, 0x38115007, 0xfffffeee, 0x00000004, 0x00000008, 
    0xfffffa4d, 0x000005b3, 0xffffff02, 0x00000004, 0x00000004, 0x00000001, 0xffffff12, 0x00000004, 
    0x0000000c, 0x00000001, 0x00000006, 0x00000020, 0xffffff2a, 0x00000004, 0x00000010, 0x00000001, 
    0x0000000c, 0x00000001, 0x00000020, 0xffffff46, 0x00000004, 0x00000010, 0x00000001, 0x00000001, 
    0x00000018, 0x00000003, 0xffffe720, 0xffffe724, 0x0000000f, 0x52494c4d, 0x6e6f4320, 0x74726576, 
    0x002e6465, 0x00000001, 0x00000014, 0x000e0000, 0x00140018, 0x000c0010, 0x00040008, 0x0000000e, 
    0x00000014, 0x0000001c, 0x00000274, 0x00000278, 0x0000027c, 0x00000004, 0x6e69616d, 0x00000000, 
    0x0000000a, 0x00000238, 0x000001dc, 0x0000018c, 0x00000148, 0x00000124, 0x000000d0, 0x000000ac, 
    0x00000078, 0x00000040, 0x00000004, 0xfffffe56, 0x0000001c, 0x09000000, 0x0000001c, 0x00000020, 
    0x00000005, 0x00060000, 0x00040008, 0x00000006, 0x3f800000, 0x00000001, 0x00000016, 0x00000001, 
    0x00000015, 0xfffffe8e, 0x00000014, 0x08000000, 0x00000010, 0x00000014, 0x00000004, 0xffffe7f4, 
    0x00000001, 0x00000015, 0x00000003, 0x00000014, 0x00000006, 0x00000005, 0xfffffec2, 0x00000014, 
    0x1b000000, 0x00000010, 0x00000014, 0x00000003, 0xffffe828, 0x00000001, 0x00000014, 0x00000002, 
    0x00000013, 0x00000004, 0xfffffe96, 0x00000008, 0x0000000c, 0x00000001, 0x00000013, 0x00000002, 
    0x00000012, 0x00000003, 0xffffff12, 0x00000024, 0x05000000, 0x00000034, 0x00000038, 0x00000002, 
    0x000e0000, 0x00170018, 0x000c0010, 0x00040008, 0x0000000e, 0x00000002, 0x00000001, 0x00000002, 
    0x00000001, 0x01000000, 0x00000001, 0x00000012, 0x00000001, 0x00000011, 0xffffff06, 0x00000008, 
    0x0000000c, 0x00000001, 0x00000011, 0x00000002, 0x00000010, 0x00000002, 0xffffff82, 0x00000014, 
    0x01000000, 0x0000001c, 0x00000020, 0x00000001, 0xffffff74, 0x01000000, 0x00000001, 0x00000001, 
    0x00000001, 0x00000010, 0x00000003, 0x0000000f, 0x00000008, 0x00000007, 0xffffffc2, 0x00000014, 
    0x01000000, 0x00000018, 0x0000001c, 0x00000001, 0xffffff7e, 0x00000001, 0x00000001, 0x00000001, 
    0x0000000f, 0x00000003, 0x0000000e, 0x0000000a, 0x00000009, 0x000e0000, 0x00140018, 0x000c0010, 
    0x0004000b, 0x0000000e, 0x00000020, 0x01000000, 0x00000028, 0x0000002c, 0x00000001, 0x0010000c, 
    0x000c0000, 0x00070008, 0x0000000c, 0x01000000, 0x00000001, 0x00000002, 0x00000001, 0x0000000e, 
    0x00000003, 0x0000000d, 0x0000000c, 0x0000000b, 0x000a0000, 0x0000000c, 0x00040008, 0x0000000a, 
    0x00000008, 0x0000000c, 0x00000001, 0x0000000d, 0x00000002, 0x00000000, 0x00000001, 0x00000001, 
    0x00000016, 0x00000001, 0x00000000, 0x00000017, 0x00001680, 0x000015f8, 0x00001594, 0x00001534, 
    0x000014c8, 0x00001438, 0x000013b4, 0x000011b8, 0x00000f14, 0x00000d20, 0x00000b24, 0x000009e8, 
    0x00000804, 0x00000770, 0x000005a4, 0x00000518, 0x0000034c, 0x000002c0, 0x00000234, 0x000001a8, 
    0x00000124, 0x00000070, 0x00000004, 0xffffe9f2, 0x01000000, 0x00000014, 0x00000030, 0x00000017, 
    0x09000000, 0x00000044, 0xffffe9dc, 0x00000008, 0x00000010, 0x00000001, 0xffffff80, 0xffffffff, 
    0x00000001, 0x3b800000, 0x00000019, 0x74617453, 0x6c756665, 0x74726150, 0x6f697469, 0x4364656e, 
    0x3a6c6c61, 0x00000030, 0x00000002, 0x00000001, 0x00000002, 0xffffea5a, 0x01000000, 0x00000014, 
    0x00000034, 0x00000016, 0x09000000, 0x0000008c, 0xffffea44, 0x00000008, 0x00000014, 0x00000001, 
    0x0000000c, 0x00000000, 0x00000000, 0x00000001, 0x3dad24d5, 0x0000005e, 0x65646f6d, 0x2f315f6c, 
    0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f395f72, 
    0x4d74614d, 0x6d3b6c75, 0x6c65646f, 0x632f315f, 0x31766e6f, 0x6d732d64, 0x2d6c6c61, 0x616c6162, 
    0x6465636e, 0x6c2f322d, 0x72657961, 0x422f395f, 0x41736169, 0x00006464, 0x00000002, 0x00000001, 
    0x00000002, 0xffffeb0a, 0x01000000, 0x00000014, 0x00000034, 0x00000015, 0x09000000, 0x0000005c, 
    0xffffeaf4, 0x00000008, 0x00000014, 0x00000001, 0xffffff80, 0xffffffff, 0x00000000, 0x00000001, 
    0x3c62b2b2, 0x0000002c, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 
    0x65636e61, 0x2f322d64, 0x6579616c, 0x2f385f72, 0x6e61654d, 0x00000000, 0x00000002, 0x00000001, 
    0x00000020, 0xffffeb8a, 0x01000000, 0x00000014, 0x00000034, 0x00000014, 0x09000000, 0x00000060, 
    0xffffeb74, 0x00000008, 0x00000014, 0x00000001, 0xffffff80, 0xffffffff, 0x00000000, 0x00000001, 
    0x3d27d26b, 0x00000030, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 
    0x65636e61, 0x2f322d64, 0x6579616c, 0x2f375f72, 0x65757153, 0x31657a65, 0x00000000, 0x00000003, 
    0x00000001, 0x00000006, 0x00000020, 0xffffec12, 0x01000000, 0x00000014, 0x00000034, 0x00000013, 
    0x09000000, 0x0000005c, 0xffffebfc, 0x00000008, 0x00000014, 0x00000001, 0xffffff80, 0xffffffff, 
    0x00000000, 0x00000001, 0x3d27d26b, 0x0000002f, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 
    0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f375f72, 0x5078614d, 0x006c6f6f, 
    0x00000004, 0x00000001, 0x00000006, 0x00000001, 0x00000020, 0xffffec9a, 0x01000000, 0x00000014, 
    0x00000030, 0x00000012, 0x09000000, 0x0000005c, 0xffffec84, 0x00000008, 0x00000010, 0x00000001, 
    0xffffff80, 0xffffffff, 0x00000001, 0x3d27d26b, 0x00000033, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 
    0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f375f72, 0x61707845, 
    0x6944646e, 0x0031736d, 0x00000004, 0x00000001, 0x0000000c, 0x00000001, 0x00000020, 0xffffed22, 
    0x01000000, 0x00000014, 0x00000034, 0x00000011, 0x09000000, 0x0000019c, 0xffffed0c, 0x00000008, 
    0x00000014, 0x00000001, 0xffffff80, 0xffffffff, 0x00000000, 0x00000001, 0x3d27d26b, 0x0000016e, 
    0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 
    0x6579616c, 0x2f365f72, 0x756c6552, 0x646f6d3b, 0x315f6c65, 0x6e6f632f, 0x2d643176, 0x6c616d73, 
    0x61622d6c, 0x636e616c, 0x322d6465, 0x79616c2f, 0x355f7265, 0x7461622f, 0x6f6e6863, 0x612f6d72, 
    0x315f6464, 0x646f6d3b, 0x315f6c65, 0x6e6f632f, 0x2d643176, 0x6c616d73, 0x61622d6c, 0x636e616c, 
    0x322d6465, 0x79616c2f, 0x345f7265, 0x6e6f432f, 0x2f443176, 0x65757153, 0x3b657a65, 0x65646f6d, 
    0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 
    0x2f355f72, 0x63746162, 0x726f6e68, 0x756d2f6d, 0x3b315f6c, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 
    0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f355f72, 0x63746162, 
    0x726f6e68, 0x756d2f6d, 0x6f6d3b6c, 0x5f6c6564, 0x6f632f31, 0x6431766e, 0x616d732d, 0x622d6c6c, 
    0x6e616c61, 0x2d646563, 0x616c2f32, 0x5f726579, 0x61622f35, 0x6e686374, 0x2f6d726f, 0x3b627573, 
    0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 
    0x6579616c, 0x2f345f72, 0x766e6f43, 0x00004431, 0x00000004, 0x00000001, 0x00000001, 0x0000000c, 
    0x00000020, 0xffffeeea, 0x01000000, 0x00000014, 0x00000034, 0x00000010, 0x09000000, 0x0000005c, 
    0xffffeed4, 0x00000008, 0x00000014, 0x00000001, 0x0000000b, 0x00000000, 0x00000000, 0x00000001, 
    0x3d8a6088, 0x0000002f, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 
    0x65636e61, 0x2f322d64, 0x6579616c, 0x2f335f72, 0x766e6f43, 0x00314431, 0x00000004, 0x00000001, 
    0x00000001, 0x0000000c, 0x00000020, 0xffffef72, 0x01000000, 0x00000014, 0x00000034, 0x0000000f, 
    0x09000000, 0x0000019c, 0xffffef5c, 0x00000008, 0x00000014, 0x00000001, 0xffffff80, 0xffffffff, 
    0x00000000, 0x00000001, 0x3c9d07a0, 0x0000016e, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 
    0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f325f72, 0x756c6552, 0x646f6d3b, 
    0x315f6c65, 0x6e6f632f, 0x2d643176, 0x6c616d73, 0x61622d6c, 0x636e616c, 0x322d6465, 0x79616c2f, 
    0x315f7265, 0x7461622f, 0x6f6e6863, 0x612f6d72, 0x315f6464, 0x646f6d3b, 0x315f6c65, 0x6e6f632f, 
    0x2d643176, 0x6c616d73, 0x61622d6c, 0x636e616c, 0x322d6465, 0x79616c2f, 0x305f7265, 0x6e6f432f, 
    0x2f443176, 0x65757153, 0x3b657a65, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 
    0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f315f72, 0x63746162, 0x726f6e68, 0x756d2f6d, 
    0x3b315f6c, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 
    0x2f322d64, 0x6579616c, 0x2f315f72, 0x63746162, 0x726f6e68, 0x756d2f6d, 0x6f6d3b6c, 0x5f6c6564, 
    0x6f632f31, 0x6431766e, 0x616d732d, 0x622d6c6c, 0x6e616c61, 0x2d646563, 0x616c2f32, 0x5f726579, 
    0x61622f31, 0x6e686374, 0x2f6d726f, 0x3b627573, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 
    0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f305f72, 0x766e6f43, 0x00004431, 
    0x00000004, 0x00000001, 0x00000001, 0x0000000c, 0x00000010, 0xfffff13a, 0x01000000, 0x00000014, 
    0x00000030, 0x0000000e, 0x09000000, 0x00000064, 0xfffff124, 0x00000008, 0x00000010, 0x00000001, 
    0xffffff80, 0xffffffff, 0x00000001, 0x40bc1c1c, 0x0000003a, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 
    0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f305f72, 0x766e6f43, 
    0x452f4431, 0x6e617078, 0x6d694464, 0x00003173, 0x00000004, 0x00000001, 0x00000001, 0x00000018, 
    0x00000003, 0xfffff1ca, 0x01000000, 0x00000014, 0x000000e8, 0x0000000d, 0x09000000, 0x000001b4, 
    0xfffff1b4, 0x00000008, 0x0000008c, 0x00000010, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000010, 0x38f24593, 0x389726df, 
    0x37a00b9f, 0x377523ec, 0x392887bb, 0x383b9b38, 0x372b46e0, 0x3743f6b0, 0x38c7ef61, 0x38bfd996, 
    0x37c4585c, 0x3835a5b6, 0x38c23709, 0x37e5fe58, 0x3837ce9c, 0x39266370, 0x000000d3, 0x65646f6d, 
    0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 
    0x2f315f72, 0x63746162, 0x726f6e68, 0x756d2f6d, 0x3b315f6c, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 
    0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f305f72, 0x766e6f43, 
    0x532f4431, 0x65657571, 0x6d3b657a, 0x6c65646f, 0x632f315f, 0x31766e6f, 0x6d732d64, 0x2d6c6c61, 
    0x616c6162, 0x6465636e, 0x6c2f322d, 0x72657961, 0x622f315f, 0x68637461, 0x6d726f6e, 0x6c756d2f, 
    0x646f6d3b, 0x315f6c65, 0x6e6f632f, 0x2d643176, 0x6c616d73, 0x61622d6c, 0x636e616c, 0x322d6465, 
    0x79616c2f, 0x305f7265, 0x6e6f432f, 0x00443176, 0x00000004, 0x00000010, 0x00000001, 0x00000003, 
    0x00000003, 0xfffff3aa, 0x01000000, 0x00000014, 0x000000e8, 0x0000000c, 0x02000000, 0x00000118, 
    0xfffff394, 0x00000008, 0x0000008c, 0x00000010, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000010, 0x3a3205b2, 0x39de2249, 
    0x38eb3437, 0x38b4214c, 0x3a77ac5d, 0x3989da97, 0x387bb5b6, 0x388ffeae, 0x3a12e9bf, 0x3a0cf8db, 
    0x39104673, 0x398579a4, 0x3a0eb5be, 0x3929000a, 0x39870fe9, 0x3a748697, 0x00000035, 0x65646f6d, 
    0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 
    0x2f315f72, 0x63746162, 0x726f6e68, 0x75732f6d, 0x00000062, 0x00000001, 0x00000010, 0xfffff4e2, 
    0x01000000, 0x00000014, 0x000001a4, 0x0000000b, 0x09000000, 0x000001cc, 0xfffff4cc, 0x00000008, 
    0x00000108, 0x00000020, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000020, 0x3c4e0908, 0x3c09a49c, 0x3c793bf2, 0x3c2fc269, 0x3c401181, 
    0x3c827b75, 0x3bd95f0f, 0x3c1c002e, 0x3c12d018, 0x3c43d8fe, 0x3c3caec2, 0x3c586da6, 0x3bebb005, 
    0x3c4cf4fd, 0x3bf6cd91, 0x3caed17d, 0x3c499dd9, 0x3c0fee8f, 0x3c00ec23, 0x3c411855, 0x3c25ec34, 
    0x3bf02ad0, 0x3c5ec61c, 0x3bca9825, 0x3bef6158, 0x3c78232e, 0x3c6be53a, 0x3c2c2ade, 0x3c5bf42e, 
    0x3c35a142, 0x3c6382d4, 0x3c1e73d5, 0x0000002e, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 
    0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f335f72, 0x766e6f43, 0x00004431, 
    0x00000004, 0x00000020, 0x00000001, 0x00000003, 0x00000010, 0xfffff6da, 0x01000000, 0x00000014, 
    0x000001a8, 0x0000000a, 0x02000000, 0x000001d0, 0xfffff6c4, 0x00000008, 0x0000010c, 0x00000020, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000020, 0x397cc35a, 0x3928dc1a, 0x3998e130, 0x39579eed, 0x396ba0e9, 0x39a01333, 
    0x390555c6, 0x393f6183, 0x39341bfc, 0x397043d2, 0x39677997, 0x3984c1b1, 0x391091f8, 0x397b70b4, 
    0x3917636c, 0x39d6775d, 0x3977579f, 0x3930932e, 0x391e2951, 0x396ce359, 0x394b8d9a, 0x39135169, 
    0x3988a622, 0x38f88aaf, 0x3912d5d4, 0x399834f7, 0x3990b29b, 0x395336d6, 0x3986eb4d, 0x395ed29d, 
    0x398b8e03, 0x39426384, 0x0000002e, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 
    0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f345f72, 0x766e6f43, 0x00004431, 0x00000001, 
    0x00000020, 0xfffff8ca, 0x01000000, 0x00000014, 0x000001a8, 0x00000009, 0x09000000, 0x00000274, 
    0xfffff8b4, 0x00000008, 0x0000010c, 0x00000020, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000020, 0x3a64c8ad, 0x3b180d3b, 
    0x3b03fea1, 0x3b00e621, 0x3af47851, 0x3a3e8c74, 0x3b4a3f41, 0x3b066a52, 0x3ab6635e, 0x3a300048, 
    0x3ae1b16d, 0x3a9ee656, 0x3a8e81db, 0x3add3e72, 0x3b13248f, 0x3b18adb3, 0x3b2eb1bc, 0x3aae9eee, 
    0x3ad9a70b, 0x3b3d5eba, 0x3ab3f50f, 0x3b074bfa, 0x3b1b9e7f, 0x3a86dc58, 0x3ac952cc, 0x3a9d59ef, 
    0x3a840876, 0x3af383e6, 0x3a7f3d54, 0x3b0be631, 0x3a813623, 0x3ac8c37e, 0x000000d3, 0x65646f6d, 
    0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 
    0x2f355f72, 0x63746162, 0x726f6e68, 0x756d2f6d, 0x3b315f6c, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 
    0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f345f72, 0x766e6f43, 
    0x532f4431, 0x65657571, 0x6d3b657a, 0x6c65646f, 0x632f315f, 0x31766e6f, 0x6d732d64, 0x2d6c6c61, 
    0x616c6162, 0x6465636e, 0x6c2f322d, 0x72657961, 0x622f355f, 0x68637461, 0x6d726f6e, 0x6c756d2f, 
    0x646f6d3b, 0x315f6c65, 0x6e6f632f, 0x2d643176, 0x6c616d73, 0x61622d6c, 0x636e616c, 0x322d6465, 
    0x79616c2f, 0x345f7265, 0x6e6f432f, 0x00443176, 0x00000004, 0x00000020, 0x00000001, 0x00000003, 
    0x00000020, 0xfffffb6a, 0x01000000, 0x00000014, 0x000001a8, 0x00000008, 0x02000000, 0x000001d8, 
    0xfffffb54, 0x00000008, 0x0000010c, 0x00000020, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000020, 0x387754e4, 0x392460ef, 
    0x390eb211, 0x390b5951, 0x3904250b, 0x384dff21, 0x395aa4b8, 0x39114fff, 0x38c52cae, 0x383e4509, 
    0x38f3fd7e, 0x38abc82a, 0x389a0f79, 0x38ef2e2d, 0x391f1262, 0x39250e69, 0x393cdb5e, 0x38bcc709, 
    0x38eb4c3c, 0x394cb8f1, 0x38c28beb, 0x391243f2, 0x39283c3d, 0x3891cb43, 0x38d9a518, 0x38aa1ba0, 
    0x388ebcb2, 0x3903a0ed, 0x3889f74e, 0x39173dae, 0x388bafd0, 0x38d90a2c, 0x00000035, 0x65646f6d, 
    0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 
    0x2f355f72, 0x63746162, 0x726f6e68, 0x75732f6d, 0x00000062, 0x00000001, 0x00000020, 0xfffffd62, 
    0x01000000, 0x00000014, 0x00000034, 0x00000007, 0x09000000, 0x0000005c, 0xfffffd4c, 0x00000008, 
    0x00000014, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x3c34e950, 0x0000002e, 
    0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 
    0x6579616c, 0x2f395f72, 0x4d74614d, 0x00006c75, 0x00000002, 0x00000002, 0x00000020, 0xfffffde2, 
    0x01000000, 0x00000014, 0x00000034, 0x00000006, 0x02000000, 0x0000006c, 0xfffffdcc, 0x00000008, 
    0x00000014, 0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000001, 0x39203441, 0x0000003e, 
    0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 
    0x6579616c, 0x2f395f72, 0x73616942, 0x2f646441, 0x64616552, 0x69726156, 0x656c6261, 0x0000704f, 
    0x00000001, 0x00000002, 0xfffffe6e, 0x01000000, 0x00000014, 0x00000014, 0x00000005, 0x02000000, 
    0x0000004c, 0xfffffedc, 0x0000003e, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 0x6c6c616d, 
    0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f385f72, 0x6e61654d, 0x6465722f, 0x69746375, 
    0x695f6e6f, 0x6369646e, 0x00007365, 0x00000000, 0xfffffed6, 0x01000000, 0x00000014, 0x00000014, 
    0x00000004, 0x02000000, 0x0000003c, 0xffffff44, 0x0000002f, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 
    0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f375f72, 0x65757153, 
    0x00657a65, 0x00000001, 0x00000003, 0xffffff32, 0x01000000, 0x00000014, 0x00000014, 0x00000003, 
    0x02000000, 0x00000040, 0xffffffa0, 0x00000032, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 0x732d6431, 
    0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f375f72, 0x61707845, 0x6944646e, 
    0x0000736d, 0x00000001, 0x00000004, 0xffffff92, 0x01000000, 0x00000018, 0x00000018, 0x00000002, 
    0x02000000, 0x0000004c, 0x00040004, 0x00000004, 0x00000039, 0x65646f6d, 0x2f315f6c, 0x766e6f63, 
    0x732d6431, 0x6c6c616d, 0x6c61622d, 0x65636e61, 0x2f322d64, 0x6579616c, 0x2f305f72, 0x766e6f43, 
    0x452f4431, 0x6e617078, 0x6d694464, 0x00000073, 0x00000001, 0x00000004, 0x00160000, 0x0018001c, 
    0x00100017, 0x0008000c, 0x00000000, 0x00070000, 0x00000016, 0x01000000, 0x00000020, 0x0000003c, 
    0x00000001, 0x09000000, 0x00000050, 0x000c000c, 0x00000000, 0x00040008, 0x0000000c, 0x00000008, 
    0x00000010, 0x00000001, 0xffffff80, 0xffffffff, 0x00000001, 0x40bc1c1c, 0x00000019, 0x76726573, 
    0x5f676e69, 0x61666564, 0x5f746c75, 0x75706e69, 0x3a325f74, 0x00000030, 0x00000003, 0x00000001, 
    0x00000018, 0x00000003, 0x00000006, 0x00000080, 0x00000060, 0x00000040, 0x0000002c, 0x00000018, 
    0x00000004, 0xffffffc0, 0x00000019, 0x00000002, 0x19000000, 0xffffffd0, 0x00000009, 0x00000004, 
    0x09000000, 0xffffffe0, 0x00000028, 0x00000002, 0x28000000, 0xfffffff0, 0x00000011, 0x00000002, 
    0x11000000, 0x0010000c, 0x0000000f, 0x00040008, 0x0000000c, 0x00000003, 0x00000003, 0x03000000, 
    0x000c000c, 0x0000000b, 0x00040000, 0x0000000c, 0x00000016, 0x16000000
};

// Memory mapped buffers
#define _K4              ((int8_t *)_K4)                     // s8[12632] (12632 bytes)
#define _K2              ((int8_t *)(_state + 0x00000000))   // s8[496] (496 bytes)
#define _K3              ((int8_t *)(_state + 0x000001f8))   // s8[16384] (16384 bytes)
#define _K7              ((int8_t *)(_state + 0x000001f0))   // s8[8] (8 bytes)
#define _K1              ((float *)(_buffer + 0x00000000))   // f32[24,3] (288 bytes)
#define _K6              ((int8_t *)(_buffer + 0x00000120))  // s8[72] (72 bytes)

#define IPWIN_RET_SUCCESS 0
#define IPWIN_RET_NODATA -1
#define IPWIN_RET_ERROR -2
#define IPWIN_RET_STREAMEND -3

// Represents a Circular Buffer
// https://en.wikipedia.org/wiki/Circular_buffer
typedef struct
{
	char *buf;
	int size;		// total bytes allocated in *buf
	int used;		// current bytes used in buffer.
	int read;
	int write;
} cbuffer_t;

#define CBUFFER_SUCCESS 0
#define CBUFFER_NOMEM -1

// Initializes a cbuffer handle with given memory and size.
static inline void cbuffer_init(cbuffer_t *dest, void *mem, int size) {
	dest->buf = mem;
	dest->size = size;
	dest->used = 0;
	dest->read = 0;
	dest->write = 0;
}

// Returns the number of free bytes in buffer.
static inline int cbuffer_get_free(cbuffer_t *buf) {
	return buf->size - buf->used;
}

// Returns the number of used bytes in buffer.
static inline int cbuffer_get_used(cbuffer_t *buf) {
	return buf->used;
}

// Writes given data to buffer.
// Returns CBUFFER_SUCCESS or CBUFFER_NOMEM if out of memory.
static inline int cbuffer_enqueue(cbuffer_t *buf, const void *data, int data_size) {
	int free = cbuffer_get_free(buf);

	// Out of memory?
	if (free < data_size)
		return CBUFFER_NOMEM;

	// Is the data split in the end?
	if (buf->write + data_size > buf->size) {
		int first_size = buf->size - buf->write;
		memcpy(buf->buf + buf->write, data, first_size);
		memcpy(buf->buf, ((char *)data) + first_size, data_size - first_size);
	}
	else {
		memcpy(buf->buf + buf->write, data, data_size);
	}
	buf->write += data_size;
	if (buf->write >= buf->size)
		buf->write -= buf->size;

	buf->used += data_size;
	return CBUFFER_SUCCESS;
}

// Advances the read pointer by given count.
// Returns CBUFFER_SUCCESS on success or CBUFFER_NOMEM if count is more than available data
static inline int cbuffer_advance(cbuffer_t *buf, int count) {
	int used = cbuffer_get_used(buf);

	if (count > used)
		return CBUFFER_NOMEM;

	buf->read += count;
	if (buf->read >= buf->size)
		buf->read -= buf->size;

	// Reset pointers to 0 if buffer is empty in order to avoid unwanted wrapps.
	if (buf->read == buf->write) {
		buf->read = 0;
		buf->write = 0;
	}

	buf->used -= count;
	return CBUFFER_SUCCESS;
}

// Reset instance (clear buffer)
static inline void cbuffer_reset(cbuffer_t *buf) {
	buf->read = 0;
	buf->write = 0;
	buf->used = 0;
}

// Copies given "count" bytes to the "dst" buffer without advancing the buffer read offset.
// Returns CBUFFER_SUCCESS on success or CBUFFER_NOMEM if count is more than available data.
static inline int cbuffer_copyto(cbuffer_t *buf, void *dst, int count, int offset) {
	
	if (count > cbuffer_get_used(buf))
		return CBUFFER_NOMEM;

	int a0 = buf->read + offset;
	if (a0 >= buf->size)
		a0 -= buf->size;

	int c0 = count;
	if (a0 + c0 > buf->size)
		c0 = buf->size - a0;
	
	memcpy(dst, buf->buf + a0, c0);
	
	int c1 = count - c0;

	if (c1 > 0)
		memcpy(((char *)dst) + c0, buf->buf, c1);

	return CBUFFER_SUCCESS;
}

// Returns a read pointer at given offset and  
// updates *can_read_bytes (if not NULL) with the number of bytes that can be read.
// 
// Note! Byte count written to can_read_bytes can be less than what cbuffer_get_used() returns.
// This happens when the read has to be split in two since it's a circular buffer.
static inline void *cbuffer_readptr(cbuffer_t* buf, int offset, int *can_read_bytes)
{
	int a0 = buf->read + offset;
	if (a0 >= buf->size)
		a0 -= buf->size;
	if (can_read_bytes != NULL)
	{
		int c0 = buf->used;
		if (a0 + c0 > buf->size)
			c0 = buf->size - a0;

		*can_read_bytes = c0;
	}
	return buf->buf + a0;
}

typedef struct {
	cbuffer_t data_buffer;			// Circular Buffer for features
	int input_size;					// Number of bytes in each input chunk
	int window_count;				// Number of input chunks in output window.
} fixwin_t;

#ifdef _MSC_VER
static_assert(sizeof(fixwin_t) <= 64, "Data structure 'fixwin_t' is too big");
#endif

/*
* Try to dequeue a window.
*
* @param handle Pointer to an initialized handle.
* @param dst Pointer where to write window.
* @param stride_count Number of items (of size handle->input_size) to stride window.
* @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_NODATA (-1) is no data is available.
*/
static inline int fixwin_dequeue(void* restrict handle, void* restrict dst, int stride_count)
{
	fixwin_t* fep = (fixwin_t*)handle;

	const int stride_bytes = stride_count * fep->input_size;
	const int size = fep->window_count * fep->input_size;
	if (cbuffer_get_used(&fep->data_buffer) >= size) {
		if (cbuffer_copyto(&fep->data_buffer, dst, size, 0) != 0)
			return IPWIN_RET_ERROR;

		if (cbuffer_advance(&fep->data_buffer, stride_bytes) != 0)
			return IPWIN_RET_ERROR;

		return IPWIN_RET_SUCCESS;
	}
	return IPWIN_RET_NODATA;
}

static inline void mtb_model_int8_f32(const void* handle, const float* restrict src, int src_count, float* restrict dst, int dst_count, int8_t* tmp)
{
	mtb_ml_model_t* model = *(mtb_ml_model_t**)handle;

	int in_offset = model->input_zero_point;
	float in_scale = model->input_scale;
	 
	for (int i = 0; i < src_count; i++) {
		float value = (src[i] / in_scale) + in_offset;
		if (value > 127)
			tmp[i] = 127;
		else if (value < -128)
			tmp[i] = -128;
		else
			tmp[i] = (int8_t)value;
	}

	mtb_ml_model_run(model, tmp);
	
	int out_offset = model->output_zero_point;
	float out_scale = model->output_scale;
	int8_t* out_data = model->output;
	for (int i = 0; i < dst_count; i++) {
		dst[i] = (out_data[i] - out_offset) * out_scale;
	}
}

/**
 * Enqueue handle->input_size values from given *data pointer to internal window buffer.
 *
 * @param handle Pointer to an initialized handle.
 * @param data Data to enqueue.
 * @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_ERROR (-2) if internal buffer is out of memory.
 */
static inline int fixwin_enqueue(void* restrict handle, const void* restrict data)
{
	fixwin_t* fep = (fixwin_t*)handle;

	if (cbuffer_enqueue(&fep->data_buffer, data, fep->input_size) != 0)
		return IPWIN_RET_ERROR;

	return IPWIN_RET_SUCCESS;
}

static inline void mtb_model_free(const void* handle)
{
	mtb_ml_model_t* model = *(mtb_ml_model_t**)handle;
	mtb_ml_model_deinit(model);
}

/**
* Initializes a fixwin sampler handle.
*
* @param handle Pointer to a preallocated memory area of fixwin_handle_size() bytes to initialize.
*
* @param input_size Number of bytes to enqueue.
* @param window_count Number of items (of size input_size) in each window
*/
static inline void fixwin_init(void* restrict handle, int input_size, int window_count)
{
	fixwin_t* fep = (fixwin_t*)handle;
	fep->input_size = input_size;
	fep->window_count = window_count;

	char* mem = ((char*)handle) + sizeof(fixwin_t);

	int data_buffer = input_size * window_count;
	
	cbuffer_init(&fep->data_buffer, mem, data_buffer);
}

int mtb_init(const void *handle, int8_t* model_bin, unsigned int model_size, int8_t* arena_buffer, int arena_size) {
	
	mtb_ml_model_t** model_obj = (mtb_ml_model_t**)handle;
	
	mtb_ml_model_bin_t model = { "model", (uint8_t*)model_bin, model_size, arena_size };
	mtb_ml_model_buffer_t buffer = { (uint8_t*)arena_buffer, arena_size };
	if (mtb_ml_model_init(&model, &buffer, model_obj) != CY_RSLT_SUCCESS)
		return IPWIN_RET_ERROR;

	return 0;
}

#define __RETURN_ERROR(_exp) do { int __ret = (_exp); if(__ret < 0) return __ret; } while(0)
#define __RETURN_ALWAYS(_exp) return (_exp)
#define __RETURN_ERROR_BREAK_EMPTY(_exp) {  int __ret = (_exp); if(__ret == -1) break; if(__ret < 0) return __ret;  } 

/*
* Try read data from model.
* 
*  @param data_out Output features. Output float[2].
*  @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_NODATA (-1), IPWIN_RET_ERROR (-2), IPWIN_RET_STREAMEND (-3)
*/
int IMAI_dequeue(float *restrict data_out) {    
    __RETURN_ERROR(fixwin_dequeue(_K2, _K1, 7));
    mtb_model_int8_f32(_K7, _K1, 72, data_out, 2, _K6);
    return 0;
}

/*
* Try write data to model.
* 
*  @param data_in Input features. Input float[6].
*  @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_NODATA (-1), IPWIN_RET_ERROR (-2), IPWIN_RET_STREAMEND (-3)
*/
int IMAI_enqueue(const float *restrict data_in) {    
    __RETURN_ERROR(fixwin_enqueue(_K2, data_in));
    return 0;
}

/*
* Closes and flushes streams, free any heap allocated memory.
* 
*/
void IMAI_finalize(void) {    
    mtb_model_free(_K7);
}

/*
* Initializes buffers to initial state.
* 
*  @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_NODATA (-1), IPWIN_RET_ERROR (-2), IPWIN_RET_STREAMEND (-3)
*/
int IMAI_init(void) {    
    fixwin_init(_K2, 24, 12);
    __RETURN_ERROR(mtb_init(_K7, _K4, 12632, _K3, 16384));
    return 0;
}

#ifdef IMAI_REFLECTION

static IMAI_api_def _IMAI_api_def = {
    api_ver: 1,
    id: {0xa1, 0xc9, 0x9c, 0x97, 0x4b, 0xa4, 0x81, 0x4b, 0xbb, 0xaa, 0xb9, 0x3f, 0x11, 0xcd, 0x29, 0x47},
    api_type: IMAI_API_TYPE_QUEUE,
    prefix: "IMAI_",
    buffer_mem: {
        size: 360,
        peak_usage: 360,
    },
    static_mem: {
        size: 16888,
        peak_usage: 16888,
    },
    readonly_mem: {
        size: 12632,
        peak_usage: 12632,
    },
    func_count: 4,
    func_list: (IMAI_func_def[]) {
        {
            name: "IMAI_dequeue",
            description: "Try read data from model.",
            fn_ptr: IMAI_dequeue,
            attrib: 3,
            param_count: 1,
            param_list: (IMAI_param_def[]) {
                {
                    name: "data_out",
                    attrib: IMAI_PARAM_OUTPUT,
                    rank: 1,
                    shape: (IMAI_shape_dim[]) {
                        {
                            name: "Labels",
                            size: 2,
                            labels: (label_text_t[]) { "unlabelled","touch" },
                        },
                    },
                    count: 2,
                    type_id: IMAGINET_TYPES_FLOAT32,
                    frequency: 14.163865546218487,
                    shift: 0,
                    scale: 1,
                    offset: 0,
                },
            },
        },
        {
            name: "IMAI_enqueue",
            description: "Try write data to model.",
            fn_ptr: IMAI_enqueue,
            attrib: 3,
            param_count: 1,
            param_list: (IMAI_param_def[]) {
                {
                    name: "data_in",
                    attrib: IMAI_PARAM_INPUT,
                    rank: 1,
                    shape: (IMAI_shape_dim[]) {
                        {
                            name: "",
                            size: 6,
                        },
                    },
                    count: 6,
                    type_id: IMAGINET_TYPES_FLOAT32,
                    frequency: 99.1470588235294,
                    shift: 0,
                    scale: 1,
                    offset: 0,
                },
            },
        },
        {
            name: "IMAI_finalize",
            description: "Closes and flushes streams, free any heap allocated memory.",
            fn_ptr: IMAI_finalize,
            attrib: 10,
            param_count: 0,
            param_list: (IMAI_param_def[]) {
            },
        },
        {
            name: "IMAI_init",
            description: "Initializes buffers to initial state.",
            fn_ptr: IMAI_init,
            attrib: 7,
            param_count: 0,
            param_list: (IMAI_param_def[]) {
            },
        },
    },
};

IMAI_api_def *IMAI_api(void) {
    return &_IMAI_api_def;
}

#endif /* IMAI_REFLECTION */

