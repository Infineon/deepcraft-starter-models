/*
* ImagiNet Compiler 5.1.1920+23251253412258875242be5d4844a74c53d9fafa
* Copyright Â© 2023- Imagimob AB, All Rights Reserved.
* 
* Generated at 09/20/2024 12:44:23 UTC. Any changes will be lost.
* 
* Model ID  bb633d0e-40c0-4256-aa21-8b292d5e6cf1
* 
* Memory    Size                      Efficiency
* Buffers   600 bytes (RAM)           100 %
* State     17200 bytes (RAM)         100 %
* Readonly  12204 bytes (Flash)       100 %
* 
* Exported functions:
* 
*  @description: Try read data from model.
*  @param data_out Output features. Output float[2].
*  @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_NODATA (-1), IPWIN_RET_ERROR (-2), IPWIN_RET_STREAMEND (-3)
*  int IMAI_dequeue(float *data_out);
* 
*  @description: Try write data to model.
*  @param data_in Input features. Input float[3].
*  @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_NODATA (-1), IPWIN_RET_ERROR (-2), IPWIN_RET_STREAMEND (-3)
*  int IMAI_enqueue(const float *data_in);
* 
*  @description: Closes and flushes streams, free any heap allocated memory.
*  void IMAI_finalize(void);
* 
*  @description: Initializes buffers to initial state.
*  @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_NODATA (-1), IPWIN_RET_ERROR (-2), IPWIN_RET_STREAMEND (-3)
*  int IMAI_init(void);
* 
* 
* Disclaimer:
*   The generated code relies on the optimizations done by the C compiler.
*   For example many for-loops of length 1 must be removed by the optimizer.
*   This can only be done if the functions are inlined and simplified.
*   Check disassembly if unsure.
*   tl;dr Compile using gcc with -O3 or -Ofast
*/

#include <stdint.h>
#include <string.h>
#include "mtb_ml_model.h"

#include "model.h"

#ifdef __GNUC__
#define ALIGNED(x) __attribute__((aligned(x)))
#else
#define ALIGNED(x) __declspec(align(x))
#endif
// Working memory
static ALIGNED(16) int8_t _buffer[600];
static ALIGNED(16) int8_t _state[17200];

// Parameters
static const uint32_t _K4[] = {
    0x0000001c, 0x334c4654, 0x00200014, 0x0018001c, 0x00100014, 0x0000000c, 0x00040008, 0x00000014, 
    0x0000001c, 0x000000a0, 0x000000f8, 0x00001e54, 0x00001e64, 0x00002f08, 0x00000003, 0x00000001, 
    0x00000010, 0x000a0000, 0x000c0010, 0x00040008, 0x0000000a, 0x0000000c, 0x0000001c, 0x0000004c, 
    0x0000000f, 0x76726573, 0x5f676e69, 0x61666564, 0x00746c75, 0x00000001, 0x00000004, 0xffffff88, 
    0x00000016, 0x00000004, 0x0000001b, 0x2d6e6166, 0x632d6461, 0x31766e6f, 0x6d732d64, 0x2d6c6c61, 
    0x65657073, 0x00312d64, 0x00000001, 0x00000004, 0xffffe19a, 0x00000004, 0x00000007, 0x75706e69, 
    0x00315f74, 0x00000002, 0x00000034, 0x00000004, 0xffffffdc, 0x00000019, 0x00000004, 0x00000013, 
    0x564e4f43, 0x49535245, 0x4d5f4e4f, 0x44415445, 0x00415441, 0x000c0008, 0x00040008, 0x00000008, 
    0x00000018, 0x00000004, 0x00000013, 0x5f6e696d, 0x746e7572, 0x5f656d69, 0x73726576, 0x006e6f69, 
    0x0000001a, 0x00001d58, 0x00001d50, 0x00001d00, 0x00001cb0, 0x00001a60, 0x00001a10, 0x00000e00, 
    0x00000de0, 0x00000dc0, 0x00000da4, 0x00000194, 0x0000017c, 0x00000168, 0x000000d8, 0x000000d0, 
    0x000000c8, 0x000000c0, 0x000000b8, 0x000000b0, 0x000000a8, 0x000000a0, 0x00000098, 0x00000090, 
    0x00000088, 0x00000068, 0x00000004, 0xffffe276, 0x00000004, 0x00000054, 0x0000000c, 0x000e0008, 
    0x00040008, 0x00000008, 0x00000010, 0x00000024, 0x00060000, 0x00040008, 0x00000006, 0x00000004, 
    0x00000000, 0x000a0000, 0x000c0010, 0x00040008, 0x0000000a, 0x00000002, 0x00000002, 0x00000004, 
    0x00000006, 0x34312e32, 0x0000312e, 0xffffe2d6, 0x00000004, 0x00000010, 0x2e362e31, 0x00000030, 
    0x00000000, 0x00000000, 0xffffd304, 0xffffd308, 0xffffd30c, 0xffffd310, 0xffffd314, 0xffffd318, 
    0xffffd31c, 0xffffd320, 0xffffd324, 0xffffd328, 0xffffe31a, 0x00000004, 0x00000080, 0xbf838ee8, 
    0xbf6da6d2, 0xbef1822d, 0x3f3528b4, 0x3f814903, 0x3f6f322f, 0xbf41b79c, 0xbf3e5878, 0xbf9f6e1f, 
    0x3f6e4186, 0xbf978dfd, 0xbf4674b2, 0xbf757a6c, 0x3f6bfb90, 0x3f5d2786, 0xbf9abd3b, 0x3eb4cea3, 
    0x3f56c96e, 0x3f9c7c12, 0xbf676d4f, 0xbf1bb1c5, 0xbf366d20, 0x3f6e9e4a, 0x3eff8fd2, 0x3f293375, 
    0xbf66e36d, 0x3f7a43c2, 0x3f3fac5f, 0x3f705051, 0xbf4b2f48, 0xbf3b2a71, 0x3f8b93ec, 0xffffe3a6, 
    0x00000004, 0x00000004, 0x00000001, 0xffffe3b6, 0x00000004, 0x00000008, 0x3e3f56f6, 0xbe3f56f1, 
    0xffffe3ca, 0x00000004, 0x00000c00, 0x3f148f3e, 0x3dc2676a, 0x3df6a0dd, 0x3e5d163d, 0x3e17911e, 
    0x3e433ff5, 0xbe87f85f, 0xbcc999ef, 0xbebe3c75, 0x3e07fa02, 0xbeda80bb, 0xbd8d843e, 0xbdf3f06b, 
    0xbe366427, 0x3de3316e, 0x3db1284e, 0x3e446a0b, 0xbea576b3, 0x3d263e7a, 0xbcc0a245, 0xbdd49f23, 
    0x3e953b42, 0xbca17e7f, 0xbe8965a9, 0x3eb567b7, 0x3e7d3c61, 0x3e8132dc, 0xbebd36f3, 0x3e0b2098, 
    0xbeaefb02, 0xbe9a183f, 0xbe67526b, 0x3df6d41d, 0xbdfac9e8, 0xbecc925c, 0xbe17c1f5, 0xbdb8afb0, 
    0x3df22460, 0xbdbb1cb3, 0x3ea24fcc, 0xbd13fbc1, 0x3e3e8747, 0xbd8d6772, 0xbe0fb757, 0x3e7de87f, 
    0x3e15a69f, 0x3edb2f32, 0x3e2ca696, 0xbe89dcc5, 0xbe28d4ba, 0xbd27f271, 0x3d8453b2, 0x3ef6ef8d, 
    0xbe321426, 0x3f6c1f32, 0xbe49cda3, 0xbb98c59a, 0x3e848a07, 0xbd983e14, 0x3c68ae8b, 0xbe2b2252, 
    0xbd853b54, 0x3de3cba9, 0xbe1ea192, 0x3d69de54, 0xbdda7b49, 0x3d8b5930, 0x3d1a6da6, 0xbda3777a, 
    0xbdfceb8d, 0x3c4bad9c, 0x3e9830b6, 0xbe776e2e, 0x3da2a063, 0x3e50f345, 0x3de60cda, 0xbea4eea0, 
    0xbcb5cd7f, 0xbe917916, 0x3e29c290, 0xbe7e1470, 0xbeafdce8, 0x3da3de55, 0x3f15814f, 0x3ea18f4e, 
    0xbda3c70b, 0x3f0909f5, 0xbe82161d, 0x3e8d985a, 0xbe3fe793, 0x3e903858, 0x3f2d19a2, 0xbedbdf29, 
    0xbbf930fa, 0x3c96add3, 0xbdbf97de, 0x3de0a5bc, 0xbd94636a, 0xbeab1bc1, 0x3f13e3fb, 0x3e5afec3, 
    0x3e5ca983, 0xbd334301, 0xbf1816b1, 0x3f4d045f, 0x3eab153c, 0x3e20626b, 0x3e6d45c5, 0xbf33fcbe, 
    0xbe3834b8, 0xbdd71893, 0xbf27fdf9, 0xbd1c6c69, 0xbe267d2b, 0x3dc1e07a, 0x3a27daa8, 0xbce79fb2, 
    0x3eb48912, 0x3e3b8e1f, 0xbe99ee35, 0x3d3f3ad8, 0x3e67da1c, 0xbe0aa0ef, 0xbf0045e2, 0xbc08ab15, 
    0xbe766977, 0xbe839e55, 0x3e9ed395, 0x3e1c5c3e, 0xbd1d7b07, 0x3edb3314, 0xbe93cac9, 0x3e862a0f, 
    0xbe7bfc1a, 0x3ccdeab6, 0xbd82b304, 0xbf7d6f52, 0x3f0881ec, 0xbe65fc34, 0x3db0b942, 0x3ddd5d2b, 
    0x3d357781, 0xbf257d79, 0x3e014b7e, 0x3bd48a3f, 0x3f08ef61, 0xbd5e8290, 0x3ec65d02, 0xbf1a5112, 
    0x3d751e52, 0xbd0b778a, 0xbecb440d, 0x3e08ff18, 0xbdfb0f7d, 0x3e521595, 0xbd8d2a15, 0x3ef0d8a6, 
    0xbe2c0d69, 0xbe9071ce, 0x3ca29120, 0xbedf9560, 0x3e00885a, 0x3e377d83, 0xbf011fd1, 0x3e17ec02, 
    0x3e89dfb0, 0xbf18e332, 0x3dba23d2, 0xbe08b60b, 0xbf0644de, 0xbf1dd601, 0xbe862081, 0x3d461270, 
    0x3df81d18, 0xbdef74b0, 0xbe5c4ca2, 0x3e35674b, 0x3f23fc80, 0x3d70617e, 0xbae7551a, 0xbd1e1ff7, 
    0xbe0518c7, 0x3e432d30, 0x3eb4d8d3, 0xbe097f11, 0xbf0f2827, 0x3e88459b, 0x3da87f45, 0x3e9cb9a9, 
    0xbe7430f8, 0x3b1334a6, 0xbe812396, 0xbef107c0, 0x3e5b7352, 0xbf20936c, 0x3df374fc, 0xbd90d696, 
    0xbe7692ca, 0xbcddc7de, 0xbe793611, 0x3e79b7f8, 0x3e05ca46, 0xbe9c8071, 0x3f0184f0, 0x3e9d15cc, 
    0xbe52fa0b, 0x3e8728a8, 0xbeb8925b, 0xbe4478d4, 0x3d1bc2e2, 0x3eec365a, 0x3e0f069f, 0xbed511c4, 
    0xbd1e7dd2, 0xbd59c1d1, 0xbe811686, 0xbe180ba8, 0xbea8ee9c, 0x3e3ac0a0, 0x3d6a3f26, 0xbf211534, 
    0xbdf641e5, 0xbeb77b95, 0x3e0aea18, 0xbd39087c, 0x3ee34382, 0x3d9e0355, 0xbe042a4c, 0x3ed52008, 
    0x3e1c5336, 0xbe078030, 0xbce93a2d, 0xbd1b8c18, 0x3ee8166f, 0xbeac1aa9, 0xbd448417, 0x3f4868e6, 
    0xbed24bb0, 0x3dec5252, 0xbe995388, 0xbe77302b, 0x3ddd4360, 0x3cbda3d7, 0x3cd55f29, 0x3e1423af, 
    0xbf1f5ce8, 0x3e393195, 0x3ededecc, 0xbe9cc609, 0xbe60b07e, 0x3e902246, 0x3e53e14c, 0x3ea9439b, 
    0xbd83cc79, 0xbe7c0d6e, 0x3f140916, 0x3e7d310c, 0x3e17cda7, 0x3e49274a, 0x3dc4fa11, 0xbe4fd192, 
    0x3b7cb70a, 0x3e608e8f, 0xbe0ead6a, 0xbe91e9b8, 0xbec95d0b, 0x3f1023c6, 0xbce56bb8, 0x3bca931f, 
    0x3df3ff21, 0xbeb29274, 0x3e727da2, 0xbee72732, 0x3e071925, 0xbe14f3c9, 0xbee2d1bd, 0x3e189f06, 
    0xbe46cceb, 0x3db6a288, 0x3ec2cec1, 0x3e874f5f, 0xbe2b551a, 0xbefbb968, 0xbea7fa4e, 0xbd9ed581, 
    0x3ea96e32, 0x3d2bdb64, 0x3eea0cef, 0xbea94dc3, 0x3ec1ae81, 0xbe996bb3, 0xbee90c49, 0x3e78b0ba, 
    0xbded9adc, 0x3e62cd43, 0x3e705e9f, 0xbdd262c4, 0xbeab6537, 0xbda9ee5b, 0xbecc3aa9, 0xbd220bb4, 
    0xbd99fa0e, 0x3e297198, 0x3e19fa1f, 0x3f0e938f, 0x3e99a279, 0xbeca56b6, 0x3e653eb7, 0xbd9decdd, 
    0x3e39feaf, 0xbe4b5781, 0x3dd2693d, 0xbdc522e4, 0xbd628040, 0x3e241834, 0x3df4fe11, 0x3e8b1e7c, 
    0x3e8518e3, 0x3cfb1d12, 0xbeb310ce, 0x3e15388c, 0x3e167f39, 0x3d06e62d, 0xbe66a616, 0xbd7b022c, 
    0x3de98997, 0x3d9f231b, 0xbf79a4ab, 0xbe073c9e, 0xbeb15ce3, 0xbdc4d1c0, 0x3cc88ec2, 0x3e0b78a4, 
    0x3ecdf282, 0xbe0a98a5, 0x3f00b261, 0xbc969e75, 0x3d834099, 0xbe4e5b05, 0x3e53914a, 0x3e2e6f53, 
    0xbe8a9b59, 0xbe0217c6, 0x3dd18777, 0xbdd7817a, 0x3e14109c, 0x3d50b9b6, 0x3e97c9ed, 0xbec1bc7e, 
    0x3eb09afa, 0x3e0d3b5b, 0xbf1cbe3b, 0x3e0969a5, 0xbf01112b, 0xbdf8791d, 0x3ec319a2, 0xbcd42537, 
    0x3d9ca76d, 0x3dca1c8e, 0xbeb9244f, 0x3d2e8dab, 0xbecd4fec, 0x3f0d55c5, 0x3e910903, 0xbe5b4293, 
    0x3ec891ad, 0x3e6cdc41, 0x3e256d58, 0xbebefb72, 0xbd3b9033, 0xbd863ced, 0xbd8c22d0, 0xbbe5efa0, 
    0x3e6d16bb, 0xbe2024d6, 0xbf0aa7eb, 0xbd336fff, 0x3d9c39be, 0xbecd46f4, 0x3cc1d2a8, 0x3db52d66, 
    0xbdf7e061, 0xbedfade2, 0xbd87f9a8, 0xbedbfa9d, 0xbe9e6959, 0xbe56ce89, 0x3e95c1ff, 0x3e56ba18, 
    0xbe910595, 0x3ee2c730, 0x3ed7928c, 0xbe54d845, 0x3b5ad9fc, 0xbe83d746, 0x3ed3102e, 0xbd853200, 
    0x3e8fa820, 0x3e2a079d, 0xbdeaa794, 0x3df74d1c, 0xbe3141a3, 0x3d690003, 0x3dd0dfeb, 0xbe8d31ae, 
    0x3dc76e5a, 0x3d604aed, 0xbf132f69, 0x3dc115c3, 0x3e5c918a, 0x3ebc6db5, 0xbcb15b00, 0xbe1e71a7, 
    0x3ea6649d, 0xbeaccc4e, 0xbcc1a774, 0xbdc462d3, 0xbe911be6, 0xbeef9fc4, 0xbe563d66, 0x3ec0929a, 
    0xbef4510c, 0xbe828c34, 0x3f02f48b, 0xbe0ae108, 0xbcc3ffb8, 0x3cacf91b, 0xbefc36d8, 0xbe17653e, 
    0x3d1f649c, 0x3eb539e3, 0xbe4a55bc, 0xbe4f90ab, 0xbe665e79, 0x3d1841ae, 0xbe46394a, 0x3e1ba374, 
    0xbd906d31, 0x3f187d44, 0x3d01f01d, 0xbeed0c54, 0x3e14d016, 0xbe4e148a, 0xbee03733, 0x3d1658d7, 
    0xbd7ad1ac, 0x3e6e5e28, 0x3b51380b, 0xbce5b8c4, 0x3f4edcaa, 0xbe1ed846, 0xbeb38a41, 0x3d2fd72e, 
    0xbf2735cc, 0x3cba99d2, 0x3f17c83d, 0xbd027124, 0x3e8cae24, 0xbef1e1ef, 0xb9fcb1dc, 0x3e84c3bb, 
    0x3e6ea31f, 0xbd22c62a, 0x3ead47da, 0xbcc1b4c3, 0xbf01eeab, 0xbe8b3382, 0x3ebdb9f8, 0xbeb6b1b3, 
    0x3ec16aec, 0xbe09553d, 0x3d36dd0e, 0x3e7356b1, 0x3d41926d, 0x3eba7557, 0x3e27f62d, 0xbe925dde, 
    0xbdbcda50, 0x3dd82758, 0xbedcbc65, 0x3e5fb240, 0x3e354945, 0x3c1d88b0, 0x3ea625ad, 0x3f174438, 
    0x3e910b86, 0xbf09674b, 0x3dbad420, 0x3d0e58b6, 0xbe1578c3, 0x3da3e88f, 0xbe7d6e12, 0xbdcbd334, 
    0xbd836450, 0x3c859050, 0x3ebcfb16, 0x3e37a53a, 0xbd99a43c, 0xbe844cbb, 0xbe11fb7f, 0xbd8e31b6, 
    0xbe22bd71, 0x3ed54632, 0x3eb32016, 0xbdaec254, 0x3e13fa06, 0xbe6255e9, 0xbf2237fd, 0x3dc4c617, 
    0xbeed2dc7, 0xbc9a0ddd, 0xbe08d2ac, 0x3e042bdc, 0x3def86e8, 0x3ea720bd, 0x3e8b5031, 0x3f19114d, 
    0xbe453df4, 0xbe8d35e8, 0x3c0b3920, 0xbe4e3754, 0x3f04ebb4, 0xbe67acaa, 0xbc896f4c, 0xbe8f4fba, 
    0xbca18e3d, 0xbedff2ea, 0xbea89335, 0x3ecfc701, 0x3d52eda5, 0xbf1f2015, 0x3e4c63bc, 0xbe7c0f1f, 
    0x3dc10885, 0xbdcc3c71, 0x3e833502, 0x3d02bcc1, 0x3e9676ac, 0xbe096dd5, 0x3e8cfc51, 0xbe744fa8, 
    0x3e09c9a6, 0xbd56292c, 0xbf0822f1, 0xbee4fc65, 0xbe0246b0, 0x3c5e46bc, 0x3e7103c8, 0xbe1d60ed, 
    0x3ea75ab7, 0xbe8c4c46, 0xbe65d91b, 0x3f0cfd62, 0x3f1c65fe, 0xbee90480, 0x3e65b5ca, 0xbf325b7d, 
    0x3d94b035, 0x3e8041f4, 0xbdc98bc8, 0x3ef76c4c, 0xbecedfd9, 0xbdd1fecb, 0xbe356f52, 0x3e058104, 
    0x3a983a89, 0xbe5e43ef, 0x3eea90b3, 0xbf4bfe69, 0xbc425138, 0x3e1991e6, 0xbe96e0c3, 0x3e8f7333, 
    0xbe67f5ba, 0x3e7149ad, 0xbd6f3492, 0x3e5009af, 0xbd5f18ff, 0xbd5c208b, 0xbe4435b2, 0x3dab3ba8, 
    0x3d7ec5e4, 0x3e6417af, 0xbdd29000, 0x3e1fb959, 0x3e514aa8, 0xbde5dee0, 0xbee0c46d, 0x3f0897a7, 
    0xbeedd936, 0x3d554aac, 0x3dc9c1e2, 0xbe5010f5, 0x3eb4ec95, 0x3ea31448, 0xbe9409c1, 0xbdc15a6a, 
    0x3e388eb8, 0x3d2390b6, 0x3daf5b15, 0xbe1221ca, 0x3e4f76ec, 0xbf48a43d, 0xbd45a530, 0xbe6612ca, 
    0xbe6d5fa7, 0xbe6cd7a4, 0xbe88f0f4, 0x3e36d82f, 0x3f23ad4c, 0xbe72e61e, 0xbf07eecf, 0x3ded6437, 
    0x3e513300, 0xbee581b1, 0x3e1a4744, 0xbcef810d, 0xbd93199d, 0x3f0708fd, 0xbcca065e, 0x3f28f852, 
    0xbec436e7, 0x3e4d1302, 0x3db4f1f3, 0xbd409b9c, 0xbef3e1c8, 0xbe7eb114, 0x3ebce944, 0x3da05015, 
    0xbd34a3e8, 0x3e5c10c7, 0x3d468b9d, 0x3ca8d70b, 0x3e6e44c7, 0xbe832b65, 0x3e66c033, 0xbf1fc56e, 
    0x3ed5ce9f, 0xbe1dc5ea, 0xbf178274, 0xbeaab769, 0xbeca5da0, 0xbe28b4ac, 0xbdb3ef7f, 0x3dda9c3a, 
    0xbcb764ed, 0x3c98c1dd, 0x3d0eab8f, 0x3d6fdecf, 0x3e44bf2f, 0xbed2a40f, 0xbda2f1e8, 0xbea07650, 
    0x3eb7e451, 0xbd4126d4, 0xbed9f9c2, 0x3e200ed4, 0xbf3d8dad, 0xbd96b19a, 0x3e11e276, 0xbef0f07c, 
    0xbec8e50d, 0x3e672156, 0xbdafda4f, 0xbe6f36dc, 0xbe6edef5, 0x3eba8e22, 0x3e997b9b, 0xbe348800, 
    0x3ea122b7, 0x3e38d950, 0xbd2206d7, 0x3e1196fd, 0x3e8c593d, 0x3ecc428c, 0x3e82f071, 0x3ec31a4b, 
    0x3e9a94f9, 0x3ee8213d, 0x3cd12056, 0x3e91ff10, 0x3edf77bf, 0x3e8c4045, 0x3e9a50d2, 0x3dccf2eb, 
    0x3df012b8, 0x3ef48578, 0x3e65a27e, 0x3ef5f325, 0xbe12bd7d, 0x3f3afb14, 0x3ebf27ff, 0xbd05e02b, 
    0x3ede0da5, 0x3ea9aab8, 0xbe186613, 0x3d3f2202, 0x3e987bcd, 0x3b5811bf, 0x3e12e15d, 0xbf15e996, 
    0xbdce2a64, 0xbe1c07a8, 0xbdb7411f, 0x3deae39b, 0x3ed0c384, 0x3eab57bc, 0x3ebbdfa0, 0x3f1d14f7, 
    0x3d4c80c0, 0x3e0bf1a9, 0xbcdaddd5, 0x3ea7a425, 0x3ec54fd0, 0x3e5b6fcc, 0x3d383d30, 0xbcf50062, 
    0x3d3f09aa, 0x3eaffcad, 0xbda8eb54, 0x3eeba5a2, 0xbed9bb04, 0x3eeaad46, 0xbe91bc91, 0xbea27a4d, 
    0xbf085f3a, 0x3e222901, 0x3df5c45f, 0x3e6d72d1, 0x3ea0ff78, 0xbe73b407, 0x3ebdc21a, 0x3d07dd98, 
    0x3d473ef0, 0xbf05d4b1, 0xbb2eca31, 0x3e523e90, 0xbe3e9922, 0xbbb2b0b4, 0x3e4d7750, 0xbe27a25b, 
    0x3e7c242c, 0xbc9738a3, 0xbd85de6b, 0xbe497877, 0x3eb286ab, 0x3ef10353, 0x3ed39056, 0x3e409be5, 
    0x3db3d6e7, 0xbe42008c, 0xbe297749, 0xbec6c37d, 0xbeeba615, 0xbe80cecf, 0xbed166a5, 0xbf2479b0, 
    0xbe85f526, 0x3f0059fe, 0x3f307f39, 0xbcd4f6ac, 0x3e28b6ac, 0xbeb7d8f9, 0x3d120239, 0xbda86e0a, 
    0x3e81e4c7, 0x3e949aff, 0xbdef5a79, 0xffffefd6, 0x00000004, 0x0000000c, 0x00000001, 0x0000000c, 
    0x00000010, 0xffffefee, 0x00000004, 0x00000010, 0x00000001, 0x00000019, 0x00000001, 0x00000010, 
    0xfffff00a, 0x00000004, 0x00000010, 0x00000001, 0x00000001, 0x00000032, 0x00000003, 0xfffff026, 
    0x00000004, 0x00000c00, 0x3d102b55, 0xbe037243, 0xbc4c9325, 0x3e0ccedb, 0xbc96857b, 0x3ea2cea5, 
    0xbd96ec06, 0xbdd94a54, 0x3e82d5c4, 0xbe453390, 0xbd797a40, 0x3db7d701, 0x3daa0d41, 0x3e339115, 
    0xbc2f26fe, 0x3e93e531, 0xbc6793bd, 0xbdedc60b, 0xbda79a4a, 0x3cd4aff3, 0xbeb0e099, 0x3c79d8a8, 
    0xbc879be6, 0x3ddafc5f, 0xbe95bb79, 0xbde89a1d, 0xbdc9a467, 0xbde7cbb2, 0xbe80b452, 0xbcf478cf, 
    0xbe94642d, 0x3e2a48f8, 0xbdd537de, 0x3ca6cb0d, 0xbdcd506c, 0x3c4162d1, 0x3ebc8ef4, 0x3d8f879f, 
    0xbca4d14c, 0x3e25e854, 0x3e536e65, 0xbc8b9fbd, 0x3e1e802c, 0x3d96f742, 0x3dd24fa5, 0xbd23075a, 
    0x3ccd17dd, 0xbe80c526, 0x3e7d9d49, 0xbe2f73b1, 0x3db3f11c, 0x3dd6226d, 0xbdf2277e, 0xbed193a4, 
    0xbde875a7, 0xbd5eafff, 0xbe8c043d, 0xbdc462a8, 0x3d84bf6c, 0x3e8534d2, 0x3e4ba553, 0x3e8fb463, 
    0xbd865bfb, 0x3dce9949, 0xbc08d8d1, 0xbd24efe3, 0xbd0fd843, 0xbdf78eb9, 0xbd4a03b4, 0x3e3250eb, 
    0x3df4fd2b, 0xbc6b1273, 0xbc42ff8e, 0x3cc0d173, 0x3c895a4e, 0xbe2ffd40, 0x3e0c4d09, 0xbd2a27c4, 
    0x3cdfd1b0, 0xbda8e74e, 0x3d8f3ae7, 0x3d3f287d, 0xbe1b6d01, 0x3ca09983, 0x3c5c7381, 0x3daa6d15, 
    0xbdfde3c0, 0xbd7db415, 0x3e351ecd, 0x3e8781e6, 0xbe83120f, 0x3e4c1371, 0xbe30065b, 0x3e4ca4b1, 
    0xbe23fdc7, 0x3eb58416, 0xbdb3a20a, 0x3da5093e, 0xbd867a70, 0x3e047daf, 0xbd933ec6, 0xbe0e8b46, 
    0xbd1d2d82, 0xbbe66431, 0xbd89be5c, 0x3ddd86c5, 0x3d340fb1, 0xbddf9399, 0xbca1724f, 0x3e9623dc, 
    0xbe138721, 0xbee919c8, 0x3d6a9ae2, 0x3cb4c438, 0x3e324e53, 0xbe094752, 0xbd839c7a, 0x3ea05c91, 
    0x3ea06d58, 0x3e885ada, 0x3daf79a0, 0xbe7372cb, 0xbdec405e, 0xbe3f7c1b, 0xbe377aff, 0xbe25c256, 
    0xbd9b92b1, 0x3ccaaa09, 0xbe378d47, 0x3dc96437, 0x3ece1c92, 0x3e2536a4, 0x3cfc15ec, 0x3da6a8d4, 
    0xbe119f82, 0x3da5cb03, 0xbcddfa59, 0x3da61fd9, 0x3cb03ce5, 0x3bcff9c2, 0xbd2ba729, 0x3d9c64b7, 
    0xbe3bc1e8, 0xbdd84370, 0xbd856ecc, 0xbbdfb48c, 0xbe0c1d00, 0x3e397657, 0x3d6351a8, 0x3db38427, 
    0xbe3e40d5, 0xbca16b79, 0xbbf4fd16, 0x3c5870c3, 0x3e663b43, 0xbe1954f1, 0xbdebc497, 0xbe809336, 
    0xbd462bd0, 0xbde8a1f6, 0xbd606e10, 0xbe0c41cb, 0x3d919267, 0x3da23c09, 0x3e4c5faa, 0xbd336b69, 
    0x3dab2d58, 0x3da2ed6f, 0xbdc7a3ea, 0xbd883a47, 0x3c744463, 0x3da44d2d, 0x3e8def2e, 0xbd636528, 
    0xbe87b7af, 0x3db96f4f, 0x3e11d098, 0xbe87a536, 0xbda479e3, 0x3ebebaad, 0xbca50201, 0x3aece188, 
    0x3de01ef0, 0xbd9d0ee1, 0x3c7ef3f8, 0xbd749b61, 0xbe5809c9, 0x3e356ed8, 0x3dbba079, 0x3daf1441, 
    0xbe2cf4ce, 0xbe33e390, 0xbdb5a357, 0x3d254336, 0xbb2caff4, 0x3e131421, 0x3d199bc3, 0xbdf51545, 
    0xbd9e33c0, 0x3e0d75ba, 0xbe259f63, 0xbe770038, 0xbecc1b9e, 0xbe05cd77, 0x3cac408d, 0x3d95fd00, 
    0x3e9d6f63, 0x3e1e7e9b, 0x3e29b437, 0x3d77feb3, 0x3ca382e5, 0xbe14b04c, 0xbe00a84c, 0xbdc0ae45, 
    0xbe85a7d6, 0x3d62f344, 0x3e40bb15, 0x3e201fa3, 0x3d9b85ab, 0xbdb2c549, 0xbddad0ea, 0x3eaf0d03, 
    0x3dfd9520, 0x3d48b977, 0xbe0f389b, 0x3edbf4f1, 0x3da9d405, 0xbd4ac870, 0x3df27aa4, 0xbe80fb99, 
    0x3e277ed5, 0x3c06267e, 0xbe52b66e, 0xbd72b153, 0xbd09614a, 0xbd1d41ab, 0xbdcec046, 0x3e09d27d, 
    0x3e50ec4e, 0x3b1e5cb0, 0x3da07071, 0x3d8e62af, 0xbc0eb56a, 0xbccfedcf, 0x3de073ad, 0xbc99a773, 
    0xbdc113b4, 0xbe2ad257, 0xbd832846, 0x3e6ba2c7, 0x3d505ed4, 0xbe279935, 0xbdda068d, 0xbe42f624, 
    0xbe807cf4, 0xbd461a94, 0xbe2cafde, 0xbd326a01, 0x3e0c2433, 0x3de8f93e, 0xbdc10a33, 0xbd3e76e9, 
    0x3e3d81fb, 0xbdfd845b, 0x3d842961, 0xbdc12b2c, 0x3d17e4b1, 0x3dcc8cc1, 0x3e227eb6, 0x3df6f1ae, 
    0xbe783e64, 0x3cb8a36a, 0xbda66833, 0xbe8b3822, 0xbe14d4ae, 0x3d7a4bf5, 0x3da1c55e, 0x3d5e1203, 
    0x3df0ecc8, 0x3e231ee7, 0xbe17e978, 0xbdadcc18, 0xbdd71d27, 0xbe6d2eec, 0x3ddb08ab, 0xbebb30e6, 
    0xbe925a5c, 0x3d403417, 0xbd9187b8, 0x3d89c94a, 0xbd8638be, 0x3e99c554, 0x3e0571ad, 0xbdf620d0, 
    0xbda3a923, 0xbce88235, 0x3d29736b, 0x3d11d376, 0xbe26281d, 0x3cd2ee08, 0x3e7ad3e2, 0x3e3f1868, 
    0xbdb6f5a3, 0xbd9b1a6f, 0x3d939a42, 0xbd81dcdb, 0xbe6ab766, 0xbe5af716, 0xbe62b309, 0x3e0396c8, 
    0x3e83bd47, 0x3e04aa51, 0xbd7bf456, 0x3d111cb9, 0x3db17f18, 0xbe95b6a5, 0xbe5fa4ed, 0xbdf4b776, 
    0xbe24b7b6, 0x3c325a50, 0x3d9af10b, 0xbdbca2b6, 0x3e7603e5, 0xbd127ed6, 0x3e13589f, 0xbdad5019, 
    0xbdf45369, 0x3ea7aa23, 0x3e7110b4, 0xbd84ffaf, 0x3e12e5ee, 0x3e858119, 0xbcc3bc29, 0x3e016b0d, 
    0xbbf03b6d, 0xbe6df521, 0xbb10d166, 0xbdece9b7, 0x3e42b665, 0x3e8051b5, 0xbe7223b3, 0x3c147629, 
    0xbdc7480a, 0xbe82ab58, 0xbdad699e, 0xbe8b1c68, 0x3e8ea8fd, 0x3e4f1e4c, 0x3d8cf361, 0x3e746136, 
    0xbe2f742e, 0x3c8b4b2b, 0x3d0d5cb5, 0x3df20dd3, 0x3d018043, 0xbd72fc8d, 0x3e17d6fe, 0x3e32adc2, 
    0xbd09e124, 0xbd1d04b3, 0xbc928f7c, 0x3dbb18db, 0x3dc42e98, 0xbe83ea4f, 0x3dadca1e, 0xbd088a09, 
    0xbd9c68a0, 0x3dc2e6d7, 0x39891680, 0x3d2825bf, 0xbe6dae84, 0x3d424242, 0xbe25dd92, 0x3ec47960, 
    0xbd3eee74, 0xbddb19e8, 0x3eab5605, 0x3e7018a9, 0xbd6d30f9, 0xbd3f405f, 0x3d0df2ff, 0x3db062bf, 
    0xbc43e081, 0x3ebd72ca, 0x3e2cb2e3, 0x3cd557c3, 0x3edcb6a8, 0xbc898085, 0x3e3c4038, 0xbe95d86c, 
    0xbbb88058, 0xbe89ca43, 0x3da44667, 0xbbee5633, 0x3d7a8ac7, 0x3e5ad982, 0x3e95b56b, 0x3d8e368e, 
    0xbd2cce44, 0x3d8a319d, 0x3d08dfb1, 0x3cd27b96, 0xbd92c6d3, 0xbd4417fc, 0x3bf07365, 0x3e72d200, 
    0xbdd1d397, 0xbd9f6bd5, 0xbcc721fe, 0xbd38aee0, 0xbe501cfb, 0xbea5a397, 0x3da3e1e6, 0xbc36b962, 
    0xbde5fc61, 0x3edce97c, 0xbe4f6264, 0xbd359c43, 0xbe96d534, 0x3d4a5c56, 0xbe3da231, 0xbda4d612, 
    0x3d8c9fe3, 0xbc0e4f1e, 0xbdf24845, 0x3e695049, 0xbdca8fdd, 0x3b50dab7, 0xbe8e098f, 0x3deba79c, 
    0xbe96f593, 0x3e532df6, 0x3c206058, 0xbbd478fe, 0x3be9ec3e, 0x3d461161, 0x3e083de6, 0xbbf47795, 
    0xbb87e960, 0xbd3025d1, 0xbdd93755, 0x3dcf3718, 0xbc5fac91, 0xbe26ae82, 0xbd50c417, 0xbe158896, 
    0xbe579c05, 0xbcbdb335, 0xbdc22b44, 0x3b303cbe, 0x3d352d3d, 0x3e841c5b, 0xbde4022e, 0x3b7e66fa, 
    0x3e33cd0e, 0xbc5e96a2, 0x3cf979c5, 0xbd9ccdc9, 0xbd8f40ff, 0x3e1b98d0, 0x3e444866, 0x3dd1caca, 
    0xbe57108b, 0xbac889b1, 0xbdb3de76, 0xbe88594b, 0xbe17d8ff, 0x3d29bb67, 0x3da869cc, 0x3e20ed7f, 
    0x3dae9d65, 0x3e4cde34, 0xbe437852, 0x3c8b880e, 0xbe2077f6, 0xbe1a61b7, 0x3e0d612b, 0xbe9ef32f, 
    0xbe4b1405, 0x3dbb897f, 0xbe9f3489, 0xbd26dfbd, 0xbea24960, 0x3c9ee1a9, 0xbbc5e7ac, 0xbe739d50, 
    0xbd4efd7f, 0xbe231a12, 0xbd44e33d, 0x3e0e321d, 0xbe74c5c4, 0x3eb1eea5, 0x3e2c64fb, 0x3dc26cd6, 
    0xbe632166, 0xbe2420aa, 0xbdcb23e5, 0x3e121b01, 0x3c9a74d4, 0xbd54a987, 0x3cfef108, 0x3e8f8a7a, 
    0x3db0a022, 0x3e86f226, 0x3d3144fc, 0xbe264922, 0xbd0a3e6a, 0xbece4b24, 0xbe6c5427, 0xbe859752, 
    0x3d740605, 0x3d0abd02, 0x3dda974e, 0xbda7cef9, 0x3ed44714, 0xbd102ef8, 0x3eb3a72c, 0xbe29ad00, 
    0xbd8e4c6e, 0x3e84f8b8, 0x3e393a00, 0xbc93c6c6, 0xbc51cfbf, 0x3e80c8f2, 0xbd85b9b2, 0x3ed179c6, 
    0xbeb8f574, 0x3db412ff, 0x3c96b9c2, 0x3db5519d, 0xbe5aa79a, 0x3e88000b, 0xbd44f44c, 0xbe78a804, 
    0x3ddc7545, 0xbdd8e5f5, 0xbe310a11, 0x3e83d298, 0xbd3e9a99, 0xbe81ff88, 0x3dc5c583, 0x3e33c921, 
    0xbc9bd1d0, 0xbe626d8c, 0x3ca53c46, 0xbb5ec8d6, 0xbe966ce7, 0xbda2e614, 0x3d76cf80, 0x3e825eb4, 
    0x3da8c213, 0x3ca2063d, 0x3e353b7f, 0xbe45a9c3, 0x3b077042, 0xbe5cb91d, 0xbdc3d871, 0xbe1b6258, 
    0xbe104b5c, 0x3c2d57ba, 0xbe30241c, 0xbd60ffeb, 0x3d17c25f, 0xbdb8be2f, 0x3d85791d, 0xbda688f5, 
    0xbd6d09a3, 0x3e684b76, 0xbca67fc8, 0xbc4fb8bf, 0xbe27c6af, 0x3d205a7a, 0xbe2db513, 0x3e392e1c, 
    0xbe46e5e3, 0xbe09add9, 0xbd874e6b, 0x3e01f002, 0xbda57937, 0xbb750b49, 0xbd4c9678, 0xbdec0bd9, 
    0x3ea20038, 0xbe168ab3, 0xbdde5edb, 0x3eb47fd1, 0xbdb78495, 0xbcf0ddba, 0x3e50a99a, 0x3de87827, 
    0xbd9e7021, 0xbe432ccc, 0x3e055c68, 0xbdfb7906, 0xbe228637, 0x3b48934a, 0x3dc6157d, 0x3e01ee6b, 
    0xbcb8f5c9, 0x3e0b12a1, 0x3d36d0f6, 0xbdaa6202, 0xbda9f51f, 0x3e18f0d7, 0xbd68c3ed, 0xbe530936, 
    0xbb9fcbc1, 0x3dc9e338, 0xbdcc15e7, 0xbe24288d, 0x3e833871, 0x3e231927, 0x3da9b4f0, 0xbe0d2f27, 
    0x3dd7cefd, 0x3d73f193, 0xbe37b0ed, 0xbe1df2e6, 0x3db07348, 0xbdb5f1e2, 0xbd95649e, 0x3d798bba, 
    0xbdfc5bbd, 0x3d1581dd, 0xbcb855ba, 0x3c02cbc9, 0xbe206e1b, 0x3e1e29f4, 0x3d91afd1, 0xbbb06db1, 
    0xbe7a5557, 0xbd3e0fbb, 0x3cb2a2af, 0xbd0bd5ac, 0x3e46ae37, 0xbe6adb79, 0xbd95ffd8, 0xbe6df59c, 
    0xbe04bc21, 0xbd8feaaf, 0xbdc028f9, 0xbe2af55a, 0x3dd9778e, 0x3d30d7bb, 0x3e0d7012, 0xbd0d148e, 
    0x3d7c03ab, 0x3d9d3f00, 0xbdd0687c, 0x3c813ffc, 0xbd0033b8, 0x3da024d4, 0x3e89704d, 0x3c00b1e4, 
    0xbe51a2a9, 0x3d9ac704, 0x3e09e50f, 0xbe5ee33a, 0xbd3fac01, 0x3e96852b, 0xbdbabcf7, 0x3ceb6973, 
    0x3d5ad812, 0xbe0dccf2, 0xbbd154c9, 0xbda62e29, 0xbe6200fe, 0x3e20e2ea, 0x3dc7f5aa, 0x3d780d71, 
    0xbe5102f5, 0xbe5aa09e, 0x3b67f61b, 0xbcc9f353, 0xbdef63c6, 0x3e2789b6, 0x3d49857a, 0x3cf718ff, 
    0xbe3a245f, 0xbd2dd4c7, 0x3cf3e747, 0xbb8734d3, 0x3e292428, 0xbe63160b, 0xbd79f866, 0xbe4a9d88, 
    0xbdd03a08, 0xbe181098, 0xbd96544d, 0xbe444400, 0x3d81c99b, 0x3d1f532a, 0x3e35df3f, 0xbcae5ff0, 
    0x3d9d6b48, 0xbb9e2be1, 0xbe0227b5, 0x39b4dea1, 0xbadae321, 0x3d79059b, 0x3e809988, 0xbcb70a0b, 
    0xbe1fbdac, 0x3d9ccf73, 0x3db5df33, 0xbe56873b, 0xbdac5543, 0x3ea88815, 0xbd9177d5, 0xbba52fda, 
    0x3d82e70a, 0xbdb41e02, 0x3d14d075, 0xbdfdb2af, 0xbe02d3cf, 0x3dcb5547, 0x3e5113a1, 0x3da7ba8b, 
    0xbe891070, 0xbe3ac36a, 0x3dea7740, 0xbe934dbf, 0xbec4fd64, 0xbd623354, 0x3e288603, 0xbe0391d3, 
    0x3c21b81c, 0x3d055241, 0x3d8c25bd, 0xbe075a5b, 0xbe2b6071, 0x3edcc3aa, 0x3e21c190, 0x3e6b95f8, 
    0xbdff7ea8, 0xbda476fe, 0x3e042f35, 0xbe68b594, 0x3e8059d0, 0xbdfbc4c0, 0xbde2f3f4, 0xbe65608e, 
    0x3d37c1c7, 0xbdfed9bb, 0xbe00286b, 0xbe03fb5e, 0x3d0946b7, 0xbdfb8564, 0x3c0d3872, 0xbe389654, 
    0xbd8c7129, 0xbe0ff668, 0x3d0e5e78, 0xbe34aa7b, 0x3ee18a03, 0x3dab103d, 0x3da0d711, 0xbe95b3d7, 
    0x3d46c57d, 0x3dc8eff1, 0x3e11c53a, 0xbded3379, 0x3d288688, 0x3e9a2ca9, 0xbbbc37f9, 0x3d019b43, 
    0xbd928333, 0xbbac0b07, 0xfffffc32, 0x00000004, 0x00000040, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0xfffffc7e, 0x00000004, 0x00000240, 
    0x3ecee276, 0xbe75b272, 0x3f42bdcc, 0xbd59f1cc, 0x3f373168, 0xbf366d38, 0x3e376edc, 0xbecebe0d, 
    0xbe35257e, 0x3f58f3a2, 0xbe222a57, 0x3fb40b9c, 0xbeb1db4e, 0x3e9e625a, 0xbf5279ca, 0xbf76dd6a, 
    0xbe4b90f8, 0xbf0678d3, 0x3d060b61, 0xbdf73237, 0xbe97c6ee, 0x3d36395d, 0x3f0044f4, 0xbf63df3a, 
    0x3c1fb284, 0xbef84023, 0xbea79944, 0xbf660144, 0x3f0c7e23, 0xbf00066b, 0x3f52a3e5, 0xbf856cf5, 
    0x3e78f7c3, 0xbd594589, 0x3e7f4865, 0x3ead0490, 0xbecd0225, 0x38ae0181, 0xbf8d642d, 0x3ee1af4a, 
    0xbdbdb138, 0x3fdf7538, 0xbe8427e4, 0x3eafc99b, 0xbe67e77f, 0x3e895e1b, 0x3ee81c35, 0xbea932e1, 
    0x3ed3c67c, 0xbcf0bc5a, 0xbecff365, 0xbf444436, 0xbe91bdb2, 0xbe907ac1, 0xbd9369ea, 0x3f2a0cee, 
    0x3f9ea1a9, 0x3e8d1407, 0xbf532338, 0xbee2ddcd, 0xbe4fe7d5, 0x3e6da717, 0xbf36d064, 0x3e9aba6f, 
    0x3e82c1ff, 0xbe7befc5, 0x3f0bad31, 0xbe239739, 0xbf56b21f, 0xbe935fe5, 0x3eb5973e, 0x3f94304f, 
    0xbec62cf3, 0x3e04fa95, 0xbc16bf7f, 0xbeb3f9f9, 0x3e444890, 0x3f311d3b, 0x3d3dc840, 0xbeca8750, 
    0x3f0ddf3a, 0x3f514c55, 0xbeac24ef, 0x3f634657, 0xbf89ba41, 0x3ee85d66, 0xbf77cb1b, 0xbdeea5a6, 
    0xbe654503, 0x3e358ec0, 0x3ebd6e60, 0xbe314930, 0xbeba1d34, 0xbf351932, 0x3f1f7a41, 0x3f2961b4, 
    0x3f76232d, 0xbf151d63, 0xbf5cd5b0, 0x3f110e8f, 0x3ecae28f, 0xbe816d82, 0xbf506e31, 0xbea61ac3, 
    0xbf6cea82, 0x3f31c9f4, 0x3eae2c6f, 0x3f9d6b44, 0xbe87b327, 0x3f87b03d, 0x3efe369e, 0x3dd72e23, 
    0xbe70e0d6, 0xbe53ac6d, 0x3e22179b, 0xbf8d8930, 0xbebef4ec, 0xbf616170, 0xbf02520f, 0x3e08faf5, 
    0x3eee7cb6, 0x3f37d283, 0x3ed95a15, 0xbf44b055, 0xbef3af20, 0xbec2cf1f, 0x3e2844d4, 0xbe43dc39, 
    0xbf31f9fb, 0xbedcd467, 0x3f48c756, 0x3e4dd821, 0x3d6286fc, 0xbee7299f, 0x3ebbf7b6, 0xbf012185, 
    0x3e3cb5e2, 0x3d5aa252, 0xbf48a0fc, 0xbf011fdd, 0x3e0a6551, 0x3cfdd531, 0xbf58e1e2, 0xbf0dfcdb, 
    0xfffffeca, 0x00000004, 0x00000040, 0x3e6461a8, 0xbe5681dd, 0x3f980d5f, 0x3fd60d20, 0xbfc9fd45, 
    0x3fe833f0, 0x3efb94ba, 0xbeb502e7, 0x3d8b6df8, 0x3fed4afe, 0x3f8ec653, 0x3f0f3e66, 0x3edebc6f, 
    0x3fcd0343, 0x3fd5d7c1, 0x3ed1d28a, 0xffffff16, 0x00000004, 0x00000040, 0x3f0078d0, 0xbf54cd34, 
    0x3efd1ff2, 0xbd4bd4ae, 0xbe9c12cd, 0xbd56ee18, 0xbde726dc, 0x3f006f60, 0xbef6a6ad, 0xbe657f94, 
    0x3ef370fe, 0xbe385216, 0xbf038b6e, 0xbed41099, 0x3d3e8f8e, 0xbe5cf9de, 0xffffef74, 0xffffef78, 
    0x0000000f, 0x52494c4d, 0x6e6f4320, 0x74726576, 0x002e6465, 0x00000001, 0x00000014, 0x000e0000, 
    0x00140018, 0x000c0010, 0x00040008, 0x0000000e, 0x00000014, 0x0000001c, 0x00000274, 0x00000278, 
    0x0000027c, 0x00000004, 0x6e69616d, 0x00000000, 0x0000000a, 0x00000238, 0x000001dc, 0x0000018c, 
    0x00000148, 0x00000124, 0x000000d0, 0x000000ac, 0x00000078, 0x00000040, 0x00000004, 0xfffffe56, 
    0x0000001c, 0x09000000, 0x0000001c, 0x00000020, 0x00000005, 0x00060000, 0x00040008, 0x00000006, 
    0x3f800000, 0x00000001, 0x00000016, 0x00000001, 0x00000015, 0xfffffe8e, 0x00000014, 0x08000000, 
    0x00000010, 0x00000014, 0x00000004, 0xfffff048, 0x00000001, 0x00000015, 0x00000003, 0x00000014, 
    0x0000000c, 0x0000000a, 0xfffffec2, 0x00000014, 0x1b000000, 0x00000010, 0x00000014, 0x00000003, 
    0xfffff07c, 0x00000001, 0x00000014, 0x00000002, 0x00000013, 0x0000000b, 0xfffffe96, 0x00000008, 
    0x0000000c, 0x00000001, 0x00000013, 0x00000002, 0x00000012, 0x00000008, 0xffffff12, 0x00000024, 
    0x05000000, 0x00000034, 0x00000038, 0x00000002, 0x000e0000, 0x00170018, 0x000c0010, 0x00040008, 
    0x0000000e, 0x00000002, 0x00000001, 0x00000002, 0x00000001, 0x01000000, 0x00000001, 0x00000012, 
    0x00000001, 0x00000011, 0xffffff06, 0x00000008, 0x0000000c, 0x00000001, 0x00000011, 0x00000002, 
    0x00000010, 0x00000007, 0xffffff82, 0x00000014, 0x01000000, 0x0000001c, 0x00000020, 0x00000001, 
    0xffffff74, 0x01000000, 0x00000001, 0x00000001, 0x00000001, 0x00000010, 0x00000003, 0x0000000f, 
    0x00000005, 0x00000002, 0xffffffc2, 0x00000014, 0x01000000, 0x00000018, 0x0000001c, 0x00000001, 
    0xffffff7e, 0x00000001, 0x00000001, 0x00000001, 0x0000000f, 0x00000003, 0x0000000e, 0x00000009, 
    0x00000004, 0x000e0000, 0x00140018, 0x000c0010, 0x0004000b, 0x0000000e, 0x00000020, 0x01000000, 
    0x00000028, 0x0000002c, 0x00000001, 0x0010000c, 0x000c0000, 0x00070008, 0x0000000c, 0x01000000, 
    0x00000001, 0x00000002, 0x00000001, 0x0000000e, 0x00000003, 0x0000000d, 0x00000003, 0x00000001, 
    0x000a0000, 0x0000000c, 0x00040008, 0x0000000a, 0x00000008, 0x0000000c, 0x00000001, 0x0000000d, 
    0x00000002, 0x00000000, 0x00000006, 0x00000001, 0x00000016, 0x00000001, 0x00000000, 0x00000017, 
    0x00000dac, 0x00000d30, 0x00000ccc, 0x00000b84, 0x00000b24, 0x00000a10, 0x000009a4, 0x00000924, 
    0x000008c0, 0x00000854, 0x000007e4, 0x00000774, 0x00000710, 0x00000698, 0x000004b0, 0x00000444, 
    0x0000028c, 0x0000021c, 0x000001b0, 0x00000148, 0x000000e8, 0x00000050, 0x00000004, 0xfffff2c6, 
    0x01000000, 0x00000010, 0x00000010, 0x00000017, 0x00000028, 0xfffff2b0, 0x00000019, 0x74617453, 
    0x6c756665, 0x74726150, 0x6f697469, 0x4364656e, 0x3a6c6c61, 0x00000030, 0x00000002, 0x00000001, 
    0x00000002, 0xfffff30e, 0x01000000, 0x00000010, 0x00000010, 0x00000016, 0x00000074, 0xfffff2f8, 
    0x00000064, 0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 
    0x2d646565, 0x616c2f31, 0x5f726579, 0x4d2f3031, 0x754d7461, 0x6f6d3b6c, 0x2f6c6564, 0x2d6e6166, 
    0x632d6461, 0x31766e6f, 0x6d732d64, 0x2d6c6c61, 0x65657073, 0x2f312d64, 0x6579616c, 0x30315f72, 
    0x6169422f, 0x64644173, 0x00000000, 0x00000002, 0x00000001, 0x00000002, 0xfffff3a2, 0x01000000, 
    0x00000010, 0x00000010, 0x00000015, 0x0000003c, 0xfffff38c, 0x0000002e, 0x65646f6d, 0x61662f6c, 
    0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 
    0x654d2f39, 0x00006e61, 0x00000002, 0x00000001, 0x00000010, 0xfffff3fe, 0x01000000, 0x00000010, 
    0x00000010, 0x00000014, 0x00000040, 0xfffff3e8, 0x00000032, 0x65646f6d, 0x61662f6c, 0x64612d6e, 
    0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 0x71532f37, 
    0x7a656575, 0x00003165, 0x00000003, 0x00000001, 0x0000000c, 0x00000010, 0xfffff462, 0x01000000, 
    0x00000010, 0x00000010, 0x00000013, 0x00000040, 0xfffff44c, 0x00000031, 0x65646f6d, 0x61662f6c, 
    0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 
    0x614d2f37, 0x6f6f5078, 0x0000006c, 0x00000004, 0x00000001, 0x0000000c, 0x00000001, 0x00000010, 
    0xfffff4ca, 0x01000000, 0x00000010, 0x00000010, 0x00000012, 0x00000044, 0xfffff4b4, 0x00000035, 
    0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 
    0x616c2f31, 0x5f726579, 0x78452f37, 0x646e6170, 0x736d6944, 0x00000031, 0x00000004, 0x00000001, 
    0x00000019, 0x00000001, 0x00000010, 0xfffff536, 0x01000000, 0x00000010, 0x00000010, 0x00000011, 
    0x0000018c, 0xfffff520, 0x0000017c, 0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 
    0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 0x65522f36, 0x6d3b756c, 0x6c65646f, 
    0x6e61662f, 0x2d64612d, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6570732d, 0x312d6465, 0x79616c2f, 
    0x355f7265, 0x7461622f, 0x6f6e6863, 0x612f6d72, 0x315f6464, 0x646f6d3b, 0x662f6c65, 0x612d6e61, 
    0x6f632d64, 0x6431766e, 0x616d732d, 0x732d6c6c, 0x64656570, 0x6c2f312d, 0x72657961, 0x432f345f, 
    0x31766e6f, 0x71532f44, 0x7a656575, 0x6f6d3b65, 0x2f6c6564, 0x2d6e6166, 0x632d6461, 0x31766e6f, 
    0x6d732d64, 0x2d6c6c61, 0x65657073, 0x2f312d64, 0x6579616c, 0x2f355f72, 0x63746162, 0x726f6e68, 
    0x756d2f6d, 0x3b315f6c, 0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 
    0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 0x61622f35, 0x6e686374, 0x2f6d726f, 0x3b6c756d, 
    0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 
    0x616c2f31, 0x5f726579, 0x61622f35, 0x6e686374, 0x2f6d726f, 0x3b627573, 0x65646f6d, 0x61662f6c, 
    0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 
    0x6f432f34, 0x4431766e, 0x00000000, 0x00000004, 0x00000001, 0x00000001, 0x00000019, 0x00000010, 
    0xfffff6ea, 0x01000000, 0x00000010, 0x00000010, 0x00000010, 0x00000040, 0xfffff6d4, 0x00000031, 
    0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 
    0x616c2f31, 0x5f726579, 0x6f432f33, 0x4431766e, 0x00000031, 0x00000004, 0x00000001, 0x00000001, 
    0x00000019, 0x00000010, 0xfffff752, 0x01000000, 0x00000010, 0x00000010, 0x0000000f, 0x000001bc, 
    0xfffff73c, 0x000001ad, 0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 
    0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 0x65522f32, 0x6d3b756c, 0x6c65646f, 0x6e61662f, 
    0x2d64612d, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6570732d, 0x312d6465, 0x79616c2f, 0x315f7265, 
    0x7461622f, 0x6f6e6863, 0x612f6d72, 0x315f6464, 0x646f6d3b, 0x662f6c65, 0x612d6e61, 0x6f632d64, 
    0x6431766e, 0x616d732d, 0x732d6c6c, 0x64656570, 0x6c2f312d, 0x72657961, 0x432f305f, 0x31766e6f, 
    0x71532f44, 0x7a656575, 0x6f6d3b65, 0x2f6c6564, 0x2d6e6166, 0x632d6461, 0x31766e6f, 0x6d732d64, 
    0x2d6c6c61, 0x65657073, 0x2f312d64, 0x6579616c, 0x2f315f72, 0x63746162, 0x726f6e68, 0x756d2f6d, 
    0x3b315f6c, 0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 
    0x2d646565, 0x616c2f31, 0x5f726579, 0x61622f31, 0x6e686374, 0x2f6d726f, 0x3b6c756d, 0x65646f6d, 
    0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 
    0x5f726579, 0x61622f31, 0x6e686374, 0x2f6d726f, 0x3b627573, 0x65646f6d, 0x61662f6c, 0x64612d6e, 
    0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 0x6f432f34, 
    0x4431766e, 0x646f6d3b, 0x662f6c65, 0x612d6e61, 0x6f632d64, 0x6431766e, 0x616d732d, 0x732d6c6c, 
    0x64656570, 0x6c2f312d, 0x72657961, 0x432f305f, 0x31766e6f, 0x00000044, 0x00000004, 0x00000001, 
    0x00000001, 0x00000019, 0x00000010, 0xfffff936, 0x01000000, 0x00000010, 0x00000010, 0x0000000e, 
    0x0000004c, 0xfffff920, 0x0000003c, 0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 
    0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 0x6f432f30, 0x4431766e, 0x7078452f, 
    0x44646e61, 0x31736d69, 0x00000000, 0x00000004, 0x00000001, 0x00000001, 0x00000032, 0x00000003, 
    0xfffff9aa, 0x01000000, 0x00000010, 0x00000010, 0x0000000d, 0x00000040, 0xfffff994, 0x00000031, 
    0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 
    0x616c2f31, 0x5f726579, 0x4d2f3031, 0x754d7461, 0x0000006c, 0x00000002, 0x00000002, 0x00000010, 
    0xfffffdfa, 0x01000000, 0x00000014, 0x00000014, 0x0000000c, 0x02000000, 0x00000050, 0xfffff9f8, 
    0x00000040, 0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 
    0x2d646565, 0x616c2f31, 0x5f726579, 0x654d2f39, 0x722f6e61, 0x63756465, 0x6e6f6974, 0x646e695f, 
    0x73656369, 0x00000000, 0x00000000, 0xfffffa76, 0x01000000, 0x00000010, 0x00000010, 0x0000000b, 
    0x00000050, 0xfffffa60, 0x00000041, 0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 
    0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 0x422f3031, 0x41736169, 0x522f6464, 
    0x56646165, 0x61697261, 0x4f656c62, 0x00000070, 0x00000001, 0x00000002, 0xfffffae2, 0x01000000, 
    0x00000010, 0x00000010, 0x0000000a, 0x00000040, 0xfffffacc, 0x00000030, 0x65646f6d, 0x61662f6c, 
    0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 
    0x6f432f33, 0x4431766e, 0x00000000, 0x00000004, 0x00000010, 0x00000001, 0x00000003, 0x00000010, 
    0xffffff3a, 0x01000000, 0x00000014, 0x00000014, 0x00000009, 0x02000000, 0x00000040, 0xfffffb38, 
    0x00000031, 0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 
    0x2d646565, 0x616c2f31, 0x5f726579, 0x71532f37, 0x7a656575, 0x00000065, 0x00000001, 0x00000003, 
    0xffffff9a, 0x01000000, 0x00000014, 0x00000014, 0x00000008, 0x02000000, 0x00000044, 0xfffffb98, 
    0x00000034, 0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 
    0x2d646565, 0x616c2f31, 0x5f726579, 0x78452f37, 0x646e6170, 0x736d6944, 0x00000000, 0x00000001, 
    0x00000004, 0x00160000, 0x0018001c, 0x00100017, 0x0008000c, 0x00000000, 0x00070000, 0x00000016, 
    0x01000000, 0x00000014, 0x00000014, 0x00000007, 0x02000000, 0x00000048, 0xfffffc14, 0x0000003b, 
    0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 
    0x616c2f31, 0x5f726579, 0x6f432f30, 0x4431766e, 0x7078452f, 0x44646e61, 0x00736d69, 0x00000001, 
    0x00000004, 0xfffffc8e, 0x01000000, 0x00000010, 0x00000010, 0x00000006, 0x000000e8, 0xfffffc78, 
    0x000000db, 0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 
    0x2d646565, 0x616c2f31, 0x5f726579, 0x61622f35, 0x6e686374, 0x2f6d726f, 0x5f6c756d, 0x6f6d3b31, 
    0x2f6c6564, 0x2d6e6166, 0x632d6461, 0x31766e6f, 0x6d732d64, 0x2d6c6c61, 0x65657073, 0x2f312d64, 
    0x6579616c, 0x2f345f72, 0x766e6f43, 0x532f4431, 0x65657571, 0x6d3b657a, 0x6c65646f, 0x6e61662f, 
    0x2d64612d, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6570732d, 0x312d6465, 0x79616c2f, 0x355f7265, 
    0x7461622f, 0x6f6e6863, 0x6d2f6d72, 0x6d3b6c75, 0x6c65646f, 0x6e61662f, 0x2d64612d, 0x766e6f63, 
    0x732d6431, 0x6c6c616d, 0x6570732d, 0x312d6465, 0x79616c2f, 0x345f7265, 0x6e6f432f, 0x00443176, 
    0x00000004, 0x00000010, 0x00000001, 0x00000003, 0x00000010, 0xfffffd9e, 0x01000000, 0x00000010, 
    0x00000010, 0x00000005, 0x00000040, 0xfffffd88, 0x00000030, 0x65646f6d, 0x61662f6c, 0x64612d6e, 
    0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 0x6f432f34, 
    0x4431766e, 0x00000000, 0x00000001, 0x00000010, 0xfffffdfa, 0x01000000, 0x00000010, 0x00000010, 
    0x00000004, 0x0000011c, 0xfffffde4, 0x0000010c, 0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 
    0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 0x61622f31, 0x6e686374, 
    0x2f6d726f, 0x5f6c756d, 0x6f6d3b31, 0x2f6c6564, 0x2d6e6166, 0x632d6461, 0x31766e6f, 0x6d732d64, 
    0x2d6c6c61, 0x65657073, 0x2f312d64, 0x6579616c, 0x2f305f72, 0x766e6f43, 0x532f4431, 0x65657571, 
    0x6d3b657a, 0x6c65646f, 0x6e61662f, 0x2d64612d, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6570732d, 
    0x312d6465, 0x79616c2f, 0x315f7265, 0x7461622f, 0x6f6e6863, 0x6d2f6d72, 0x6d3b6c75, 0x6c65646f, 
    0x6e61662f, 0x2d64612d, 0x766e6f63, 0x732d6431, 0x6c6c616d, 0x6570732d, 0x312d6465, 0x79616c2f, 
    0x305f7265, 0x6e6f432f, 0x3b443176, 0x65646f6d, 0x61662f6c, 0x64612d6e, 0x6e6f632d, 0x2d643176, 
    0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 0x6f432f34, 0x4431766e, 0x00000000, 
    0x00000004, 0x00000010, 0x00000001, 0x00000003, 0x00000003, 0xffffff3e, 0x01000000, 0x00000010, 
    0x00000010, 0x00000003, 0x00000044, 0xffffff28, 0x00000037, 0x65646f6d, 0x61662f6c, 0x64612d6e, 
    0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 0x61622f35, 
    0x6e686374, 0x2f6d726f, 0x00627573, 0x00000001, 0x00000010, 0xffffff9e, 0x01000000, 0x00000010, 
    0x00000010, 0x00000002, 0x00000044, 0xffffff88, 0x00000037, 0x65646f6d, 0x61662f6c, 0x64612d6e, 
    0x6e6f632d, 0x2d643176, 0x6c616d73, 0x70732d6c, 0x2d646565, 0x616c2f31, 0x5f726579, 0x61622f31, 
    0x6e686374, 0x2f6d726f, 0x00627573, 0x00000001, 0x00000010, 0x00160000, 0x00140018, 0x00100000, 
    0x0008000c, 0x00000000, 0x00070000, 0x00000016, 0x01000000, 0x00000014, 0x00000014, 0x00000001, 
    0x0000002c, 0x00040004, 0x00000004, 0x00000019, 0x76726573, 0x5f676e69, 0x61666564, 0x5f746c75, 
    0x75706e69, 0x3a315f74, 0x00000030, 0x00000003, 0x00000001, 0x00000032, 0x00000003, 0x00000006, 
    0x00000060, 0x00000044, 0x00000034, 0x00000024, 0x00000014, 0x00000004, 0xffffffc4, 0x00000019, 
    0x19000000, 0xffffffd0, 0x00000009, 0x09000000, 0xffffffdc, 0x00000028, 0x28000000, 0xffffffe8, 
    0x00000011, 0x11000000, 0xfffffff4, 0x00000003, 0x03000000, 0x000c000c, 0x0000000b, 0x00040000, 
    0x0000000c, 0x00000016, 0x16000000
};

// Memory mapped buffers
#define _K4              ((int8_t *)_K4)                     // s8[12204] (12204 bytes)
#define _K2              ((int8_t *)(_state + 0x00000000))   // s8[808] (808 bytes)
#define _K3              ((int8_t *)(_state + 0x00000330))   // s8[16384] (16384 bytes)
#define _K7              ((int8_t *)(_state + 0x00000328))   // s8[8] (8 bytes)
#define _K1              ((float *)(_buffer + 0x00000000))   // f32[50,3] (600 bytes)

#define IPWIN_RET_SUCCESS 0
#define IPWIN_RET_NODATA -1
#define IPWIN_RET_ERROR -2
#define IPWIN_RET_STREAMEND -3

// Represents a Circular Buffer
// https://en.wikipedia.org/wiki/Circular_buffer
typedef struct
{
	char *buf;
	int size;		// total bytes allocated in *buf
	int used;		// current bytes used in buffer.
	int read;
	int write;
} cbuffer_t;

#define CBUFFER_SUCCESS 0
#define CBUFFER_NOMEM -1

// Initializes a cbuffer handle with given memory and size.
static inline void cbuffer_init(cbuffer_t *dest, void *mem, int size) {
	dest->buf = mem;
	dest->size = size;
	dest->used = 0;
	dest->read = 0;
	dest->write = 0;
}

// Returns the number of free bytes in buffer.
static inline int cbuffer_get_free(cbuffer_t *buf) {
	return buf->size - buf->used;
}

// Returns the number of used bytes in buffer.
static inline int cbuffer_get_used(cbuffer_t *buf) {
	return buf->used;
}

// Writes given data to buffer.
// Returns CBUFFER_SUCCESS or CBUFFER_NOMEM if out of memory.
static inline int cbuffer_enqueue(cbuffer_t *buf, const void *data, int data_size) {
	int free = cbuffer_get_free(buf);

	// Out of memory?
	if (free < data_size)
		return CBUFFER_NOMEM;

	// Is the data split in the end?
	if (buf->write + data_size > buf->size) {
		int first_size = buf->size - buf->write;
		memcpy(buf->buf + buf->write, data, first_size);
		memcpy(buf->buf, ((char *)data) + first_size, data_size - first_size);
	}
	else {
		memcpy(buf->buf + buf->write, data, data_size);
	}
	buf->write += data_size;
	if (buf->write >= buf->size)
		buf->write -= buf->size;

	buf->used += data_size;
	return CBUFFER_SUCCESS;
}

// Advances the read pointer by given count.
// Returns CBUFFER_SUCCESS on success or CBUFFER_NOMEM if count is more than available data
static inline int cbuffer_advance(cbuffer_t *buf, int count) {
	int used = cbuffer_get_used(buf);

	if (count > used)
		return CBUFFER_NOMEM;

	buf->read += count;
	if (buf->read >= buf->size)
		buf->read -= buf->size;

	// Reset pointers to 0 if buffer is empty in order to avoid unwanted wrapps.
	if (buf->read == buf->write) {
		buf->read = 0;
		buf->write = 0;
	}

	buf->used -= count;
	return CBUFFER_SUCCESS;
}

// Reset instance (clear buffer)
static inline void cbuffer_reset(cbuffer_t *buf) {
	buf->read = 0;
	buf->write = 0;
	buf->used = 0;
}

// Copies given "count" bytes to the "dst" buffer without advancing the buffer read offset.
// Returns CBUFFER_SUCCESS on success or CBUFFER_NOMEM if count is more than available data.
static inline int cbuffer_copyto(cbuffer_t *buf, void *dst, int count, int offset) {
	
	if (count > cbuffer_get_used(buf))
		return CBUFFER_NOMEM;

	int a0 = buf->read + offset;
	if (a0 >= buf->size)
		a0 -= buf->size;

	int c0 = count;
	if (a0 + c0 > buf->size)
		c0 = buf->size - a0;
	
	memcpy(dst, buf->buf + a0, c0);
	
	int c1 = count - c0;

	if (c1 > 0)
		memcpy(((char *)dst) + c0, buf->buf, c1);

	return CBUFFER_SUCCESS;
}

// Returns a read pointer at given offset and  
// updates *can_read_bytes (if not NULL) with the number of bytes that can be read.
// 
// Note! Byte count written to can_read_bytes can be less than what cbuffer_get_used() returns.
// This happens when the read has to be split in two since it's a circular buffer.
static inline void *cbuffer_readptr(cbuffer_t* buf, int offset, int *can_read_bytes)
{
	int a0 = buf->read + offset;
	if (a0 >= buf->size)
		a0 -= buf->size;
	if (can_read_bytes != NULL)
	{
		int c0 = buf->used;
		if (a0 + c0 > buf->size)
			c0 = buf->size - a0;

		*can_read_bytes = c0;
	}
	return buf->buf + a0;
}

typedef struct {
	cbuffer_t data_buffer;			// Circular Buffer for features
	int input_size;					// Number of bytes in each input chunk
	int window_count;				// Number of input chunks in output window.
} fixwin_t;

#ifdef _MSC_VER
static_assert(sizeof(fixwin_t) <= 64, "Data structure 'fixwin_t' is too big");
#endif

/*
* Try to dequeue a window.
*
* @param handle Pointer to an initialized handle.
* @param dst Pointer where to write window.
* @param stride_count Number of items (of size handle->input_size) to stride window.
* @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_NODATA (-1) is no data is available.
*/
static inline int fixwin_dequeue(void* restrict handle, void* restrict dst, int stride_count)
{
	fixwin_t* fep = (fixwin_t*)handle;

	const int stride_bytes = stride_count * fep->input_size;
	const int size = fep->window_count * fep->input_size;
	if (cbuffer_get_used(&fep->data_buffer) >= size) {
		if (cbuffer_copyto(&fep->data_buffer, dst, size, 0) != 0)
			return IPWIN_RET_ERROR;

		if (cbuffer_advance(&fep->data_buffer, stride_bytes) != 0)
			return IPWIN_RET_ERROR;

		return IPWIN_RET_SUCCESS;
	}
	return IPWIN_RET_NODATA;
}

static inline void mtb_model_f32(const void* handle, const float* restrict src, int src_count, float* restrict dst, int dst_count)
{
	mtb_ml_model_t* model = *(mtb_ml_model_t**)handle;
	mtb_ml_model_run(model, (float*)src);
	memcpy(dst, model->output, dst_count * sizeof(float));
}

/**
 * Enqueue handle->input_size values from given *data pointer to internal window buffer.
 *
 * @param handle Pointer to an initialized handle.
 * @param data Data to enqueue.
 * @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_ERROR (-2) if internal buffer is out of memory.
 */
static inline int fixwin_enqueue(void* restrict handle, const void* restrict data)
{
	fixwin_t* fep = (fixwin_t*)handle;

	if (cbuffer_enqueue(&fep->data_buffer, data, fep->input_size) != 0)
		return IPWIN_RET_ERROR;

	return IPWIN_RET_SUCCESS;
}

static inline void mtb_model_free(const void* handle)
{
	mtb_ml_model_t* model = *(mtb_ml_model_t**)handle;
	mtb_ml_model_deinit(model);
}

/**
* Initializes a fixwin sampler handle.
*
* @param handle Pointer to a preallocated memory area of fixwin_handle_size() bytes to initialize.
*
* @param input_size Number of bytes to enqueue.
* @param window_count Number of items (of size input_size) in each window
*/
static inline void fixwin_init(void* restrict handle, int input_size, int window_count)
{
	fixwin_t* fep = (fixwin_t*)handle;
	fep->input_size = input_size;
	fep->window_count = window_count;

	char* mem = ((char*)handle) + sizeof(fixwin_t);

	int data_buffer = input_size * window_count;
	
	cbuffer_init(&fep->data_buffer, mem, data_buffer);
}

int mtb_init(const void *handle, int8_t* model_bin, unsigned int model_size, int8_t* arena_buffer, int arena_size) {
	
	mtb_ml_model_t** model_obj = (mtb_ml_model_t**)handle;
	
	mtb_ml_model_bin_t model = { "model", (uint8_t*)model_bin, model_size, arena_size };
	mtb_ml_model_buffer_t buffer = { (uint8_t*)arena_buffer, arena_size };
	if (mtb_ml_model_init(&model, &buffer, model_obj) != CY_RSLT_SUCCESS)
		return IPWIN_RET_ERROR;

	return 0;
}

#define __RETURN_ERROR(_exp) do { int __ret = (_exp); if(__ret < 0) return __ret; } while(0)
#define __RETURN_ALWAYS(_exp) return (_exp)
#define __RETURN_ERROR_BREAK_EMPTY(_exp) {  int __ret = (_exp); if(__ret == -1) break; if(__ret < 0) return __ret;  } 

/*
* Try read data from model.
* 
*  @param data_out Output features. Output float[2].
*  @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_NODATA (-1), IPWIN_RET_ERROR (-2), IPWIN_RET_STREAMEND (-3)
*/
int IMAI_dequeue(float *restrict data_out) {    
    __RETURN_ERROR(fixwin_dequeue(_K2, _K1, 1));
    mtb_model_f32(_K7, _K1, 150, data_out, 2);
    return 0;
}

/*
* Try write data to model.
* 
*  @param data_in Input features. Input float[3].
*  @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_NODATA (-1), IPWIN_RET_ERROR (-2), IPWIN_RET_STREAMEND (-3)
*/
int IMAI_enqueue(const float *restrict data_in) {    
    __RETURN_ERROR(fixwin_enqueue(_K2, data_in));
    return 0;
}

/*
* Closes and flushes streams, free any heap allocated memory.
* 
*/
void IMAI_finalize(void) {    
    mtb_model_free(_K7);
}

/*
* Initializes buffers to initial state.
* 
*  @return IPWIN_RET_SUCCESS (0) or IPWIN_RET_NODATA (-1), IPWIN_RET_ERROR (-2), IPWIN_RET_STREAMEND (-3)
*/
int IMAI_init(void) {    
    fixwin_init(_K2, 12, 50);
    __RETURN_ERROR(mtb_init(_K7, _K4, 12204, _K3, 16384));
    return 0;
}

#ifdef IMAI_REFLECTION

static IMAI_api_def _IMAI_api_def = {
    api_ver: 1,
    id: {0x0e, 0x3d, 0x63, 0xbb, 0xc0, 0x40, 0x56, 0x42, 0xaa, 0x21, 0x8b, 0x29, 0x2d, 0x5e, 0x6c, 0xf1},
    api_type: IMAI_API_TYPE_QUEUE,
    prefix: "IMAI_",
    buffer_mem: {
        size: 600,
        peak_usage: 600,
    },
    static_mem: {
        size: 17200,
        peak_usage: 17200,
    },
    readonly_mem: {
        size: 12204,
        peak_usage: 12204,
    },
    func_count: 4,
    func_list: (IMAI_func_def[]) {
        {
            name: "IMAI_dequeue",
            description: "Try read data from model.",
            fn_ptr: IMAI_dequeue,
            attrib: 3,
            param_count: 1,
            param_list: (IMAI_param_def[]) {
                {
                    name: "data_out",
                    attrib: IMAI_PARAM_OUTPUT,
                    rank: 1,
                    shape: (IMAI_shape_dim[]) {
                        {
                            name: "Labels",
                            size: 2,
                            labels: (label_text_t[]) { "unlabelled","anomaly" },
                        },
                    },
                    count: 2,
                    type_id: IMAGINET_TYPES_FLOAT32,
                    frequency: 50,
                    shift: 0,
                    scale: 1,
                    offset: 0,
                },
            },
        },
        {
            name: "IMAI_enqueue",
            description: "Try write data to model.",
            fn_ptr: IMAI_enqueue,
            attrib: 3,
            param_count: 1,
            param_list: (IMAI_param_def[]) {
                {
                    name: "data_in",
                    attrib: IMAI_PARAM_INPUT,
                    rank: 1,
                    shape: (IMAI_shape_dim[]) {
                        {
                            name: "",
                            size: 3,
                        },
                    },
                    count: 3,
                    type_id: IMAGINET_TYPES_FLOAT32,
                    frequency: 50,
                    shift: 0,
                    scale: 1,
                    offset: 0,
                },
            },
        },
        {
            name: "IMAI_finalize",
            description: "Closes and flushes streams, free any heap allocated memory.",
            fn_ptr: IMAI_finalize,
            attrib: 10,
            param_count: 0,
            param_list: (IMAI_param_def[]) {
            },
        },
        {
            name: "IMAI_init",
            description: "Initializes buffers to initial state.",
            fn_ptr: IMAI_init,
            attrib: 7,
            param_count: 0,
            param_list: (IMAI_param_def[]) {
            },
        },
    },
};

IMAI_api_def *IMAI_api(void) {
    return &_IMAI_api_def;
}

#endif /* IMAI_REFLECTION */

